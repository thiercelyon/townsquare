(function(e){function t(t){for(var s,r,a=t[0],l=t[1],u=t[2],c=0,m=[];c<a.length;c++)r=a[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,u||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,r=1;r<i.length;r++){var l=i[r];0!==o[l]&&(s=!1)}s&&(n.splice(t--,1),e=a(a.s=i[0]))}return e}var s={},o={app:0},n=[];function r(e){return a.p+"js/"+({}[e]||e)+"."+{"chunk-2d0a4d33":"aa682e38","chunk-2d0ddbde":"645b491e"}[e]+".js"}function a(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.e=function(e){var t=[],i=o[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(t,s){i=o[e]=[t,s]}));t.push(i[2]=s);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=r(e);var u=new Error;n=function(t){l.onerror=l.onload=null,clearTimeout(c);var i=o[e];if(0!==i){if(i){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",u.name="ChunkLoadError",u.type=s,u.request=n,i[1](u)}o[e]=void 0}};var c=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=s,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/townsquare/",a.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=u;n.push(["56d7","chunk-vendors"]),i()})({"00c0":function(e){e.exports=JSON.parse('[{"id":"tb","name":"Trouble Brewing","author":"The Pandemonium Institute","description":"Clouds roll in over Ravenswood Bluff, engulfing this sleepy town and its superstitious inhabitants in foreboding shadow. Freshly-washed clothes dance eerily on lines strung between cottages. Chimneys cough plumes of smoke into the air. Exotic scents waft through cracks in windows and under doors, as hidden cauldrons lay bubbling. An unusually warm Autumn breeze wraps around vine-covered walls and whispers ominously to those brave enough to walk the cobbled streets.\\n\\nAnxious mothers call their children home from play, as thunder begins to clap on the horizon. If you listen more closely, however, noises stranger still can be heard echoing from the neighbouring forest. Under the watchful eye of a looming monastery, silhouetted figures skip from doorway to doorway. Those who can read the signs know there is... Trouble Brewing.","level":"Beginner","roles":[],"isOfficial":true},{"id":"bmr","name":"Bad Moon Rising","author":"The Pandemonium Institute","description":"The sun is swallowed by a jagged horizon as another winter\'s day surrenders to the night. Flecks of orange and red decay into deeper browns, the forest transforming in silent anticipation of the coming snow.\\n\\nRavenous wolves howl from the bowels of a rocky crevasse beyond the town borders, sending birds scattering from their cozy rooks. Travelers hurry into the inn, seeking shelter from the gathering chill. They warm themselves with hot tea, sweet strains of music and hearty ale, unaware that strange and nefarious eyes stalk them from the ruins of this once great city.\\n\\nTonight, even the livestock know there is a... Bad Moon Rising.","level":"Intermediate","roles":[],"isOfficial":true},{"id":"snv","name":"Sects & Violets","author":"The Pandemonium Institute","description":"Vibrant spring gives way to a warm and inviting summer. Flowers of every description blossom as far as the eye can see, tenderly nurtured in public gardens and window boxes overlooking the lavish promenade. Birds sing, artists paint and philosophers ponder life\'s greatest mysteries inside a bustling tavern as a circus pitches its endearingly ragged tent on the edge of town.\\n\\nAs the townsfolk bask in frivolity and mischief, indulging themselves in fine entertainment and even finer wine, dark and clandestine forces are assembling. Witches and cults lurk in majestic ruins on the fringes of the community, hosting secret meetings in underground caves and malevolently plotting the downfall of Ravenswood Bluff and its revelers.\\n\\nThe time is ripe for... Sects & Violets.","level":"Intermediate","roles":[],"isOfficial":true},{"id":"luf","name":"Laissez un Faire","author":"The Pandemonium Institute","description":"","level":"Veteran","roles":["balloonist","savant","amnesiac","fisherman","artist","cannibal","mutant","lunatic","widow","goblin","leviathan"],"isOfficial":true}]')},"013f":function(e,t,i){e.exports=i.p+"img/washerwoman.554de332.png"},"027a":function(e,t,i){e.exports=i.p+"img/barista.6c427e65.png"},"0436":function(e,t,i){e.exports=i.p+"img/cerenovus.cc343942.png"},"043b":function(e,t,i){e.exports=i.p+"img/amnesiac.fbd5ab33.png"},"055c":function(e,t,i){},"07ab":function(e,t,i){e.exports=i.p+"img/politician.521cc53f.png"},"0aaa":function(e,t,i){e.exports=i.p+"img/tb.438499cd.png"},"0b29":function(e,t,i){e.exports=i.p+"img/shabaloth.589858d2.png"},"0b61":function(e,t,i){e.exports=i.p+"img/lunatic.39fb7a2a.png"},"0c12":function(e,t,i){e.exports=i.p+"img/oracle.8b13b932.png"},"0c59":function(e,t,i){e.exports=i.p+"img/ravenkeeper.a1dfbc31.png"},"0d06":function(e,t,i){e.exports=i.p+"img/spiritofivory.ef077db5.png"},"0e20":function(e,t,i){e.exports=i.p+"img/undertaker.4f2e9806.png"},1020:function(e,t,i){},"125e":function(e,t,i){e.exports=i.p+"img/chambermaid.5fa8599d.png"},1601:function(e,t,i){"use strict";i("2c13")},"160b":function(e,t,i){e.exports=i.p+"img/plus.9b84ce65.png"},"177d":function(e,t,i){e.exports=i.p+"img/recluse.81a048d5.png"},"17ad":function(e,t,i){e.exports=i.p+"img/mutant.1b9f9dee.png"},"1d01":function(e,t,i){e.exports=i.p+"img/buddhist.2d7c4106.png"},"1e83":function(e,t,i){e.exports=i.p+"img/chef.c2256a45.png"},2094:function(e,t,i){e.exports=i.p+"img/preacher.a86e913b.png"},"20ca":function(e,t,i){e.exports=i.p+"img/zombuul.2872fbb3.png"},"223c":function(e,t,i){e.exports=i.p+"img/sailor.a9d4454a.png"},"22c9":function(e,t,i){e.exports=i.p+"img/widow.3ae71cbf.png"},"23b1":function(e,t,i){e.exports=i.p+"img/bonecollector.bd2d8b7a.png"},2490:function(e,t,i){e.exports=i.p+"img/outsider.2c6bc66e.png"},"24d3":function(e,t,i){e.exports=i.p+"img/baron.2628f49e.png"},"25f6":function(e,t,i){e.exports=i.p+"img/bureaucrat.6a892d56.png"},"28bf":function(e,t,i){e.exports=i.p+"img/bmr-minion.6559191b.png"},"2b04":function(e,t,i){e.exports=i.p+"img/leviathan.24f3cd86.png"},"2c13":function(e,t,i){},"2cd0":function(e,t,i){e.exports=i.p+"img/artist.e76624f3.png"},"2e47":function(e,t,i){"use strict";i("79ac")},"2fd0":function(e,t,i){e.exports=i.p+"img/snv.288a42ad.png"},"30b6":function(e,t,i){e.exports=i.p+"img/sage.8afae02e.png"},3273:function(e,t,i){e.exports=i.p+"img/poppygrower.c9d4c880.png"},"327a":function(e,t,i){e.exports=i.p+"img/scapegoat.73640c39.png"},3603:function(e,t,i){e.exports=i.p+"img/philosopher.9a154d6c.png"},3636:function(e,t,i){"use strict";i("d4b2")},"37dd":function(e,t,i){e.exports=i.p+"img/butcher.2efedb75.png"},"38a5":function(e,t,i){e.exports=i.p+"img/towncrier.8c7af52c.png"},"398f":function(e,t,i){e.exports=i.p+"img/cultleader.1f9a22f0.png"},"39eb":function(e,t,i){e.exports=i.p+"img/toymaker.a96806e5.png"},"3a43":function(e,t,i){e.exports=i.p+"img/vortox.f022015e.png"},"3b65":function(e,t,i){e.exports=i.p+"img/deviant.9fcfb58a.png"},"3e70":function(e,t,i){e.exports=i.p+"img/imp.ff808901.png"},"3e83":function(e,t,i){},"3f65":function(e,t,i){e.exports=i.p+"img/moonchild.04fb95f1.png"},"3f8f":function(e,t,i){"use strict";i("557b")},4021:function(e,t,i){e.exports=i.p+"img/snakecharmer.7769a0cc.png"},"43e8":function(e,t,i){e.exports=i.p+"img/fortuneteller.a641461f.png"},"441d":function(e,t,i){e.exports=i.p+"img/custom.5334aaeb.png"},"451a":function(e,t,i){e.exports=i.p+"img/snv-minion.60768802.png"},"46a9":function(e,t,i){"use strict";i("714d")},4720:function(e,t,i){e.exports=i.p+"img/fool.0d847910.png"},"4a58":function(e,t,i){"use strict";i("e27c")},"4bea":function(e,t,i){e.exports=i.p+"img/apprentice.ff782fd9.png"},"4d73":function(e,t,i){e.exports=i.p+"img/librarian.c867e6d6.png"},"4dd9":function(e,t,i){e.exports=i.p+"img/snv-outsider.5b5cae7f.png"},"4e76":function(e,t,i){e.exports=i.p+"img/soldier.ebde76f0.png"},"4efd":function(e,t,i){e.exports=i.p+"img/minstrel.29c42f5b.png"},5072:function(e,t,i){e.exports=i.p+"img/exorcist.4d617582.png"},"50d1":function(e,t,i){},"557b":function(e,t,i){},"559e":function(e,t,i){e.exports=i.p+"img/harlot.403b3498.png"},"55aa":function(e,t,i){e.exports=i.p+"img/goon.eb004322.png"},5626:function(e,t,i){e.exports=i.p+"img/heretic.5f581ee2.png"},"56d7":function(e,t,i){"use strict";i.r(t);var s=i("ecee"),o=i("f2d1"),n=i("c074"),r=i("ad3d"),a=i("2b0e"),l=i("a925"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{night:e.grimoire.isNight,static:e.grimoire.isStatic},style:{backgroundImage:e.grimoire.background?"url('"+e.grimoire.background+"')":""},attrs:{id:"app",tabindex:"-1"},on:{keyup:e.keyup}},[e.grimoire.background&&e.grimoire.background.match(/\.(mp4|webm)$/i)?i("video",{attrs:{id:"background",src:e.grimoire.background,autoplay:"",loop:""}}):e._e(),i("div",{staticClass:"backdrop"}),i("transition",{attrs:{name:"blur"}},[e.players.length?e._e():i("Intro"),e.players.length&&!e.session.nomination?i("TownInfo"):e._e(),e.session.nomination?i("Vote"):e._e()],1),i("TownSquare"),i("Menu",{ref:"menu"}),i("EditionModal"),i("FabledModal"),i("RolesModal"),i("ReferenceModal"),i("NightOrderModal"),i("VoteHistoryModal"),i("GameStateModal"),i("Gradients"),i("span",{attrs:{id:"version"}},[e._v("v"+e._s(e.version))])],1)},c=[],d=i("2f62"),m=i("9224"),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"square",class:{public:e.grimoire.isPublic,spectator:e.session.isSpectator,vote:e.session.nomination},attrs:{id:"townsquare"}},[i("ul",{staticClass:"circle",class:["size-"+e.players.length]},e._l(e.players,(function(t,s){return i("Player",{key:s,class:{from:Math.max(e.swap,e.swapRoles,e.move,e.nominate)===s,swap:e.swap>-1,swapRoles:e.swapRoles>-1,move:e.move>-1,nominate:e.nominate>-1},attrs:{player:t},on:{trigger:function(t){return e.handleTrigger(s,t)}}})})),1),e.players.length?i("div",{ref:"bluffs",staticClass:"bluffs",class:{closed:!e.isBluffsOpen}},[i("h3",[e.session.isSpectator?i("span",[e._v(" "+e._s(e.$t("Other characters"))+" ")]):i("span",[e._v(" "+e._s(e.$t("Demon bluffs"))+" ")]),i("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleBluffs(t)}}}),i("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleBluffs(t)}}})],1),i("ul",e._l(e.bluffSize,(function(t){return i("li",{key:t,on:{click:function(i){return e.openRoleModal(-1*t)}}},[i("Token",{attrs:{role:e.bluffs[t-1]}})],1)})),0)]):e._e(),e.fabled.length?i("div",{staticClass:"fabled",class:{closed:!e.isFabledOpen}},[i("h3",[i("span",[e._v(" "+e._s(e.$t("Fabled"))+" ")]),i("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleFabled(t)}}}),i("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleFabled(t)}}})],1),i("ul",e._l(e.fabled,(function(t,s){return i("li",{key:s,on:{click:function(t){return e.removeFabled(s)}}},[e.nightOrder.get(t).first&&e.grimoire.isNightOrder?i("div",{staticClass:"night-order first"},[i("em",[e._v(e._s(e.nightOrder.get(t).first)+".")]),t.firstNightReminder?i("span",[e._v(e._s(t.firstNightReminder))]):e._e()]):e._e(),e.nightOrder.get(t).other&&e.grimoire.isNightOrder?i("div",{staticClass:"night-order other"},[i("em",[e._v(e._s(e.nightOrder.get(t).other)+".")]),t.otherNightReminder?i("span",[e._v(e._s(t.otherNightReminder))]):e._e()]):e._e(),i("Token",{attrs:{role:t}})],1)})),0)]):e._e(),i("ReminderModal",{attrs:{"player-index":e.selectedPlayer}}),i("RoleModal",{attrs:{"player-index":e.selectedPlayer}})],1)},h=[],g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{style:e.zoom},[s("div",{ref:"player",staticClass:"player",class:[{dead:e.player.isDead,marked:e.session.markedPlayer===e.index,"no-vote":e.player.isVoteless,you:e.session.sessionId&&e.player.id&&e.player.id===e.session.playerId,"vote-yes":e.session.votes[e.index],"vote-lock":e.voteLocked},e.player.role.team]},[s("div",{staticClass:"shroud",on:{click:function(t){return e.toggleStatus()}}}),s("div",{staticClass:"life",on:{click:function(t){return e.toggleStatus()}}}),e.nightOrder.get(e.player).first&&e.grimoire.isNightOrder?s("div",{staticClass:"night-order first"},[s("em",[e._v(e._s(e.nightOrder.get(e.player).first)+".")]),e.player.role.firstNightReminder?s("span",[e._v(e._s(e.player.role.firstNightReminder))]):e._e()]):e._e(),e.nightOrder.get(e.player).other&&e.grimoire.isNightOrder?s("div",{staticClass:"night-order other"},[s("em",[e._v(e._s(e.nightOrder.get(e.player).other)+".")]),e.player.role.otherNightReminder?s("span",[e._v(e._s(e.player.role.otherNightReminder))]):e._e()]):e._e(),s("Token",{attrs:{role:e.player.role},on:{"set-role":function(t){return e.$emit("trigger",["openRoleModal"])}}}),s("div",{staticClass:"overlay"},[s("font-awesome-icon",{staticClass:"vote",attrs:{icon:"hand-paper",title:"Hand UP"},on:{click:function(t){return e.vote()}}}),s("font-awesome-icon",{staticClass:"vote",attrs:{icon:"times",title:"Hand DOWN"},on:{click:function(t){return e.vote()}}}),s("font-awesome-icon",{staticClass:"cancel",attrs:{icon:"times-circle",title:"Cancel"},on:{click:function(t){return e.cancel()}}}),s("font-awesome-icon",{staticClass:"swap",attrs:{icon:"exchange-alt",title:"Swap seats with this player"},on:{click:function(t){return e.swapPlayer(e.player)}}}),s("font-awesome-icon",{staticClass:"swapRoles",attrs:{icon:"exchange-alt",title:"Swap roles with this player"},on:{click:function(t){return e.swapRole(e.player)}}}),s("font-awesome-icon",{staticClass:"move",attrs:{icon:"redo-alt",title:"Move player to this seat"},on:{click:function(t){return e.movePlayer(e.player)}}}),s("font-awesome-icon",{staticClass:"nominate",attrs:{icon:"hand-point-right",title:"Nominate this player"},on:{click:function(t){return e.nominatePlayer(e.player)}}})],1),e.player.id&&e.session.sessionId?s("font-awesome-icon",{staticClass:"seat",class:{highlight:e.session.isRolesDistributed},attrs:{icon:"chair"}}):e._e(),e.player.isDead&&!e.player.isVoteless?s("font-awesome-icon",{staticClass:"has-vote",attrs:{icon:"vote-yea",title:"Ghost vote"},on:{click:function(t){return e.updatePlayer("isVoteless",!0)}}}):e._e(),s("div",{staticClass:"marked"},[s("font-awesome-icon",{attrs:{icon:"skull"}})],1),s("div",{staticClass:"name",class:{active:e.isMenuOpen},on:{click:function(t){e.isMenuOpen=!e.isMenuOpen}}},[s("span",[e._v(e._s(e.player.name))]),e.player.pronouns?s("font-awesome-icon",{attrs:{icon:"venus-mars"}}):e._e(),e.player.pronouns?s("div",{staticClass:"pronouns"},[s("span",[e._v(e._s(e.player.pronouns))])]):e._e()],1),s("transition",{attrs:{name:"fold"}},[e.isMenuOpen?s("ul",{staticClass:"menu"},[!e.session.isSpectator||e.session.isSpectator&&e.player.id===e.session.playerId?s("li",{on:{click:e.changePronouns}},[s("font-awesome-icon",{attrs:{icon:"venus-mars"}}),e._v(" "+e._s(e.$t("Change Pronouns"))+" ")],1):e._e(),e.session.isSpectator?e._e():[s("li",{on:{click:e.changeName}},[s("font-awesome-icon",{attrs:{icon:"user-edit"}}),e._v(" "+e._s(e.$t("Rename"))+" ")],1),s("li",{class:{disabled:e.session.lockedVote},on:{click:function(t){return e.movePlayer()}}},[s("font-awesome-icon",{attrs:{icon:"redo-alt"}}),e._v(" "+e._s(e.$t("Move player"))+" ")],1),s("li",{class:{disabled:e.session.lockedVote},on:{click:function(t){return e.swapPlayer()}}},[s("font-awesome-icon",{attrs:{icon:"exchange-alt"}}),e._v(" "+e._s(e.$t("Swap seats"))+" ")],1),s("li",{class:{disabled:e.session.lockedVote},on:{click:function(t){return e.swapRole()}}},[s("font-awesome-icon",{attrs:{icon:"exchange-alt"}}),e._v(" "+e._s(e.$t("Swap roles"))+" ")],1),s("li",{class:{disabled:e.session.lockedVote},on:{click:e.removePlayer}},[s("font-awesome-icon",{attrs:{icon:"times-circle"}}),e._v(" "+e._s(e.$t("Remove"))+" ")],1),e.player.id&&e.session.sessionId?s("li",{on:{click:function(t){return e.updatePlayer("id","",!0)}}},[s("font-awesome-icon",{attrs:{icon:"chair"}}),e._v(" "+e._s(e.$t("Empty seat"))+" ")],1):e._e(),e.session.nomination?e._e():[s("li",{on:{click:function(t){return e.nominatePlayer()}}},[s("font-awesome-icon",{attrs:{icon:"hand-point-right"}}),e._v(" "+e._s(e.$t("Nomination"))+" ")],1)]],e.session.isSpectator?s("li",{class:{disabled:e.player.id&&e.player.id!==e.session.playerId},on:{click:e.claimSeat}},[s("font-awesome-icon",{attrs:{icon:"chair"}}),e.player.id?e.player.id===e.session.playerId?[e._v(" "+e._s(e.$t("Vacate seat"))+" ")]:[e._v(" "+e._s(e.$t("Seat occupied")))]:[e._v(" "+e._s(e.$t("Claim seat"))+" ")]],2):e._e()],2):e._e()])],1),e.player.reminders?e._l(e.player.reminders,(function(t){return s("div",{key:t.role+" "+t.name,staticClass:"reminder",class:[t.role],on:{click:function(i){return e.removeReminder(t)}}},[s("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image&&e.grimoire.isImageOptIn?t.image:i("61b0")("./"+(t.imageAlt||t.role)+".png"))+")"}}),s("span",{staticClass:"text"},[e._v(e._s(t.name))])])})):e._e(),s("div",{staticClass:"reminder add",on:{click:function(t){return e.$emit("trigger",["openReminderModal"])}}},[s("span",{staticClass:"icon"})])],2)},f=[],v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"token",class:[e.role.id],on:{click:e.setRole}},[e.role.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(e.role.image&&e.grimoire.isImageOptIn?e.role.image:i("61b0")("./"+(e.role.imageAlt||e.role.id)+".png"))+")"}}):e._e(),e.role.firstNight||e.role.firstNightReminder?s("span",{staticClass:"leaf-left"}):e._e(),e.role.otherNight||e.role.otherNightReminder?s("span",{staticClass:"leaf-right"}):e._e(),e.reminderLeaves?s("span",{class:["leaf-top"+e.reminderLeaves]}):e._e(),e.role.setup?s("span",{staticClass:"leaf-orange"}):e._e(),s("svg",{staticClass:"name",attrs:{viewBox:"0 0 150 150"}},[s("path",{attrs:{d:"M 13 75 C 13 160, 138 160, 138 75",id:"curve",fill:"transparent"}}),s("text",{staticClass:"label mozilla",attrs:{width:"150",x:"66.6%","text-anchor":"middle","font-size":e._f("nameToFontSize")(e.role.name)}},[s("textPath",{attrs:{"xlink:href":"#curve"}},[e._v(" "+e._s(e.role.name)+" ")])])]),s("div",{staticClass:"edition",class:["edition-"+e.role.edition,e.role.team]}),e.role.ability?s("div",{staticClass:"ability"},[e._v(" "+e._s(e.role.ability)+" ")]):e._e()])},b=[],y={name:"Token",props:{role:{type:Object,default:()=>({})}},computed:{reminderLeaves:function(){return(this.role.reminders||[]).length+(this.role.remindersGlobal||[]).length},...Object(d["d"])(["grimoire"])},data(){return{}},filters:{nameToFontSize:e=>e&&e.length>10?"90%":"110%"},methods:{setRole(){this.$emit("set-role")}}},_=y,N=(i("5720"),i("2877")),j=Object(N["a"])(_,v,b,!1,null,"deec739a",null),k=j.exports,S={components:{Token:k},props:{player:{type:Object,required:!0}},computed:{...Object(d["d"])("players",["players"]),...Object(d["d"])(["grimoire","session"]),...Object(d["b"])({nightOrder:"players/nightOrder"}),index:function(){return this.players.indexOf(this.player)},voteLocked:function(){const e=this.session,t=this.players.length;if(!e.nomination)return!1;const i=(this.index-1+t-e.nomination[1])%t;return i<e.lockedVote-1},zoom:function(){const e=window.innerWidth>window.innerHeight?"vh":"vw";return this.players.length<7?{width:18+this.grimoire.zoom+e}:this.players.length<=10?{width:16+this.grimoire.zoom+e}:this.players.length<=15?{width:14+this.grimoire.zoom+e}:{width:12+this.grimoire.zoom+e}}},data(){return{isMenuOpen:!1,isSwap:!1}},methods:{changePronouns(){if(this.session.isSpectator&&this.player.id!==this.session.playerId)return;const e=prompt("Player pronouns",this.player.pronouns);null!==e&&this.updatePlayer("pronouns",e,!0)},toggleStatus(){this.grimoire.isPublic?this.player.isDead?this.player.isVoteless?(this.updatePlayer("isVoteless",!1),this.updatePlayer("isDead",!1)):this.updatePlayer("isVoteless",!0):(this.updatePlayer("isDead",!0),this.player.isMarked&&this.updatePlayer("isMarked",!1)):(this.updatePlayer("isDead",!this.player.isDead),this.player.isMarked&&this.updatePlayer("isMarked",!1),this.player.isVoteless&&this.updatePlayer("isVoteless",!1))},changeName(){if(this.session.isSpectator)return;const e=prompt(this.$t("Player name"),this.player.name)||this.player.name;this.updatePlayer("name",e,!0)},removeReminder(e){const t=[...this.player.reminders];t.splice(this.player.reminders.indexOf(e),1),this.updatePlayer("reminders",t,!0)},updatePlayer(e,t,i=!1){this.session.isSpectator&&"reminders"!==e&&"pronouns"!==e||(this.$store.commit("players/update",{player:this.player,property:e,value:t}),i&&(this.isMenuOpen=!1))},removePlayer(){this.isMenuOpen=!1,this.$emit("trigger",["removePlayer"])},swapPlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["swapPlayer",e])},swapRole(e){this.isMenuOpen=!1,this.$emit("trigger",["swapRole",e])},movePlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["movePlayer",e])},nominatePlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["nominatePlayer",e])},cancel(){this.$emit("trigger",["cancel"])},claimSeat(){this.isMenuOpen=!1,this.$emit("trigger",["claimSeat"])},vote(){this.session.isSpectator||this.voteLocked&&this.$store.commit("session/voteSync",[this.index,!this.session.votes[this.index]])}}},w=S,R=(i("74c9"),Object(N["a"])(w,g,f,!1,null,null,null)),x=R.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.modals.reminder&&e.availableReminders.length&&e.players[e.playerIndex]?s("Modal",{on:{close:function(t){return e.toggleModal("reminder")}}},[s("h3",[e._v(e._s(e.$t("Choose a reminder token"))+":")]),s("ul",{staticClass:"reminders"},e._l(e.availableReminders,(function(t){return s("li",{key:t.role+" "+t.name,staticClass:"reminder",class:[t.role],on:{click:function(i){return e.addReminder(t)}}},[s("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image&&e.grimoire.isImageOptIn?t.image:i("61b0")("./"+(t.imageAlt||t.role)+".png"))+")"}}),s("span",{staticClass:"text"},[e._v(e._s(t.name))])])})),0)]):e._e()},q=[],M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"modal-fade"}},[i("div",{staticClass:"modal-backdrop",on:{click:e.close}},[i("div",{staticClass:"modal",class:{maximized:e.isMaximized},attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"},on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"top-right-buttons"},[i("font-awesome-icon",{staticClass:"top-right-button",attrs:{icon:["fas",e.isMaximized?"window-minimize":"window-maximize"]},on:{click:function(t){e.isMaximized=!e.isMaximized}}}),i("font-awesome-icon",{staticClass:"top-right-button",attrs:{icon:"times-circle"},on:{click:e.close}})],1),i("div",{staticClass:"slot"},[e._t("default")],2)])])])},z=[],I={data:function(){return{isMaximized:!1}},methods:{close(){this.$emit("close")}}},$=I,O=(i("8781"),Object(N["a"])($,M,z,!1,null,null,null)),P=O.exports;const V=({id:e,image:t,imageAlt:i})=>s=>({role:e,image:t,imageAlt:i,name:s});var D={components:{Modal:P},props:["playerIndex"],computed:{availableReminders(){let e=[];const{players:t,bluffs:i}=this.$store.state.players;return this.$store.state.roles.forEach(s=>{(t.some(e=>e.role.id===s.id)||i.some(e=>e.id===s.id))&&(e=[...e,...s.reminders.map(V(s))]),s.remindersGlobal&&s.remindersGlobal.length&&(e=[...e,...s.remindersGlobal.map(V(s))])}),this.$store.state.players.fabled.forEach(t=>{e=[...e,...t.reminders.map(V(t))]}),this.$store.state.otherTravelers.forEach(i=>{t.some(e=>e.role.id===i.id)&&(e=[...e,...i.reminders.map(V(i))])}),e.push({role:"good",name:"Good"}),e.push({role:"evil",name:"Evil"}),e.push({role:"custom",name:"Custom note"}),e},...Object(d["d"])(["modals","grimoire"]),...Object(d["d"])("players",["players"])},methods:{addReminder(e){const t=this.$store.state.players.players[this.playerIndex];let i;if("custom"===e.role){const e=prompt("Add a custom reminder note");if(!e)return;i=[...t.reminders,{role:"custom",name:e}]}else i=[...t.reminders,e];this.$store.commit("players/update",{player:t,property:"reminders",value:i}),this.$store.commit("toggleModal","reminder")},...Object(d["c"])(["toggleModal"])}},T=D,L=(i("6d13"),Object(N["a"])(T,C,q,!1,null,"d88579ce",null)),E=L.exports,A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.modals.role&&e.availableRoles.length?i("Modal",{on:{close:e.close}},[i("h3",[e._v(" "+e._s(e.$t("Choose a new character for {player}",{player:e.playerIndex>=0&&e.players.length?e.players[e.playerIndex].name:e.$t("bluffing")}))+" ")]),"editionRoles"!==e.tab&&e.otherTravelers.size?e._e():i("ul",{staticClass:"tokens"},e._l(e.availableRoles,(function(t){return i("li",{key:t.id,class:[t.team],on:{click:function(i){return e.setRole(t)}}},[i("Token",{attrs:{role:t}})],1)})),0),"otherTravelers"===e.tab&&e.otherTravelers.size?i("ul",{staticClass:"tokens"},e._l(e.otherTravelers.values(),(function(t){return i("li",{key:t.id,class:[t.team],on:{click:function(i){return e.setRole(t)}}},[i("Token",{attrs:{role:t}})],1)})),0):e._e(),e.playerIndex>=0&&e.otherTravelers.size&&!e.session.isSpectator?i("div",{staticClass:"button-group"},[i("span",{staticClass:"button",class:{townsfolk:"editionRoles"===e.tab},on:{click:function(t){e.tab="editionRoles"}}},[e._v(" "+e._s(e.$t("Edition Roles"))+" ")]),i("span",{staticClass:"button",class:{townsfolk:"otherTravelers"===e.tab},on:{click:function(t){e.tab="otherTravelers"}}},[e._v(" "+e._s(e.$t("Other Travelers"))+" ")])]):e._e()]):e._e()},F=[],H={components:{Token:k,Modal:P},props:["playerIndex"],computed:{availableRoles(){const e=[],t=this.$store.state.players.players;return this.$store.state.roles.forEach(i=>{(this.playerIndex>=0||this.playerIndex<0&&!t.some(e=>e.role.id===i.id))&&e.push(i)}),e.push({}),e},...Object(d["d"])(["modals","roles","session"]),...Object(d["d"])("players",["players"]),...Object(d["d"])(["otherTravelers"])},data(){return{tab:"editionRoles"}},methods:{setRole(e){if(this.playerIndex<0)this.$store.commit("players/setBluff",{index:-1*this.playerIndex-1,role:e});else{if(this.session.isSpectator&&"traveler"===e.team)return;const t=this.$store.state.players.players[this.playerIndex];this.$store.commit("players/update",{player:t,property:"role",value:e})}this.tab="editionRoles",this.$store.commit("toggleModal","role")},close(){this.tab="editionRoles",this.toggleModal("role")},...Object(d["c"])(["toggleModal"])}},G=H,B=(i("98ff"),Object(N["a"])(G,A,F,!1,null,"5e7bce19",null)),U=B.exports,J={components:{Player:x,Token:k,RoleModal:U,ReminderModal:E},computed:{...Object(d["b"])({nightOrder:"players/nightOrder"}),...Object(d["d"])(["grimoire","roles","session"]),...Object(d["d"])("players",["players","bluffs","fabled"])},data(){return{selectedPlayer:0,bluffSize:3,swap:-1,swapRoles:-1,move:-1,nominate:-1,isBluffsOpen:!0,isFabledOpen:!0}},methods:{toggleBluffs(){this.isBluffsOpen=!this.isBluffsOpen},toggleFabled(){this.isFabledOpen=!this.isFabledOpen},removeFabled(e){this.session.isSpectator||this.$store.commit("players/setFabled",{index:e})},handleTrigger(e,[t,i]){"function"===typeof this[t]&&this[t](e,i)},claimSeat(e){this.session.isSpectator&&(this.session.playerId===this.players[e].id?this.$store.commit("session/claimSeat",-1):this.$store.commit("session/claimSeat",e))},openReminderModal(e){this.selectedPlayer=e,this.$store.commit("toggleModal","reminder")},openRoleModal(e){const t=this.players[e];this.session.isSpectator&&t&&"traveler"===t.role.team||(this.selectedPlayer=e,this.$store.commit("toggleModal","role"))},removePlayer(e){if(!this.session.isSpectator&&!this.session.lockedVote&&confirm(`Do you really want to remove ${this.players[e].name}?`)){const{nomination:t}=this.session;t&&(t.includes(e)?this.$store.commit("session/nomination"):(t[0]>e||t[1]>e)&&this.$store.commit("session/setNomination",[t[0]>e?t[0]-1:t[0],t[1]>e?t[1]-1:t[1]])),this.$store.commit("players/remove",e)}},swapPlayer(e,t){if(!this.session.isSpectator&&!this.session.lockedVote)if(void 0===t)this.cancel(),this.swap=e;else{if(this.session.nomination){const e=this.players.indexOf(t),i=this.session.nomination.map(t=>t===this.swap?e:t===e?this.swap:t);this.session.nomination[0]===i[0]&&this.session.nomination[1]===i[1]||this.$store.commit("session/setNomination",i)}this.$store.commit("players/swap",[this.swap,this.players.indexOf(t)]),this.cancel()}},swapRole(e,t){void 0===t?(this.cancel(),this.swapRoles=e):(this.$store.commit("players/swapRole",[this.swapRoles,this.players.indexOf(t)]),this.cancel())},movePlayer(e,t){if(!this.session.isSpectator&&!this.session.lockedVote)if(void 0===t)this.cancel(),this.move=e;else{if(this.session.nomination){const e=this.players.indexOf(t),i=this.session.nomination.map(t=>t===this.move?e:t>this.move&&t<=e?t-1:t<this.move&&t>=e?t+1:t);this.session.nomination[0]===i[0]&&this.session.nomination[1]===i[1]||this.$store.commit("session/setNomination",i)}this.$store.commit("players/move",[this.move,this.players.indexOf(t)]),this.cancel()}},nominatePlayer(e,t){if(!this.session.isSpectator&&!this.session.lockedVote)if(void 0===t)this.cancel(),e!==this.nominate&&(this.nominate=e);else{const e=[this.nominate,this.players.indexOf(t)];this.$store.commit("session/nomination",{nomination:e}),this.cancel()}},cancel(){this.move=-1,this.swap=-1,this.swapRoles=-1,this.nominate=-1}}},W=J,Z=(i("3636"),Object(N["a"])(W,p,h,!1,null,null,null)),Y=Z.exports,Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"info"},[s("li",{staticClass:"edition",class:["edition-"+e.edition.id],style:{backgroundImage:"url("+(e.edition.logo&&e.grimoire.isImageOptIn?e.edition.logo:i("ce23")("./"+e.edition.id+".png"))+")"}}),e.players.length-e.teams.traveler<5?s("li",[e._v(" "+e._s(e.$t("Please add more players!"))+" ")]):e._e(),s("li",[e.edition.isOfficial?e._e():s("span",{staticClass:"meta"},[e._v(" "+e._s(e.edition.name)+" "+e._s(e.edition.author?"by "+e.edition.author:"")+" ")]),s("span",[e._v(" "+e._s(e.players.length)+" "),s("font-awesome-icon",{staticClass:"players",attrs:{icon:"users"}})],1),s("span",[e._v(" "+e._s(e.teams.alive)+" "),s("font-awesome-icon",{staticClass:"alive",attrs:{icon:"heartbeat"}})],1),s("span",[e._v(" "+e._s(e.teams.votes)+" "),s("font-awesome-icon",{staticClass:"votes",attrs:{icon:"vote-yea"}})],1)]),e.players.length-e.teams.traveler>=5?s("li",[s("span",[e._v(" "+e._s(e.teams.townsfolk)+" "),s("font-awesome-icon",{staticClass:"townsfolk",attrs:{icon:"user-friends"}})],1),s("span",[e._v(" "+e._s(e.teams.outsider)+" "),s("font-awesome-icon",{staticClass:"outsider",attrs:{icon:e.teams.outsider>1?"user-friends":"user"}})],1),s("span",[e._v(" "+e._s(e.teams.minion)+" "),s("font-awesome-icon",{staticClass:"minion",attrs:{icon:e.teams.minion>1?"user-friends":"user"}})],1),s("span",[e._v(" "+e._s(e.teams.demon)+" "),s("font-awesome-icon",{staticClass:"demon",attrs:{icon:e.teams.demon>1?"user-friends":"user"}})],1),e.teams.traveler?s("span",[e._v(" "+e._s(e.teams.traveler)+" "),s("font-awesome-icon",{staticClass:"traveler",attrs:{icon:e.teams.traveler>1?"user-friends":"user"}})],1):e._e(),e.grimoire.isNight?s("span",[e._v(" "+e._s(e.$t("Night phase"))+" "),s("font-awesome-icon",{attrs:{icon:["fas","cloud-moon"]}})],1):e._e()]):e._e()])},K=[],X=i("634a"),ee={computed:{teams:function(){const{players:e}=this.$store.state.players,t=this.$store.getters["players/nonTravelers"],i=e.filter(e=>!0!==e.isDead).length;return{...X[t-5],traveler:e.length-t,alive:i,votes:i+e.filter(e=>!0===e.isDead&&!0!==e.isVoteless).length}},...Object(d["d"])(["edition","grimoire"]),...Object(d["d"])("players",["players"])}},te=ee,ie=(i("d1e7"),Object(N["a"])(te,Q,K,!1,null,"28ce9c5e",null)),se=ie.exports,oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"controls"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.session.voteHistory.length&&e.session.sessionId,expression:"session.voteHistory.length && session.sessionId"}],staticClass:"nomlog-summary",attrs:{title:e.session.voteHistory.length+" recent "+(1==e.session.voteHistory.length?"nomination":"nominations")},on:{click:function(t){return e.toggleModal("voteHistory")}}},[i("font-awesome-icon",{attrs:{icon:"book-dead"}}),e._v(" "+e._s(e.session.voteHistory.length)+" ")],1),e.session.sessionId?i("span",{staticClass:"session",class:{spectator:e.session.isSpectator,reconnecting:e.session.isReconnecting},attrs:{title:e.session.playerCount+" "+e.$t("other players in this session")+(e.session.ping?" ("+e.session.ping+"ms latency)":"")},on:{click:e.leaveSession}},[i("font-awesome-icon",{attrs:{icon:"broadcast-tower"}}),e._v(" "+e._s(e.session.playerCount)+" ")],1):e._e(),i("div",{staticClass:"menu",class:{open:e.grimoire.isMenuOpen}},[i("font-awesome-icon",{attrs:{icon:"cog"},on:{click:e.toggleMenu}}),i("ul",[i("li",{staticClass:"tabs",class:e.tab},[i("font-awesome-icon",{attrs:{icon:"book-open"},on:{click:function(t){e.tab="grimoire"}}}),i("font-awesome-icon",{attrs:{icon:"broadcast-tower"},on:{click:function(t){e.tab="session"}}}),e.session.isSpectator?e._e():i("font-awesome-icon",{attrs:{icon:"users"},on:{click:function(t){e.tab="players"}}}),i("font-awesome-icon",{attrs:{icon:"theater-masks"},on:{click:function(t){e.tab="characters"}}}),i("font-awesome-icon",{attrs:{icon:"question"},on:{click:function(t){e.tab="help"}}})],1),"grimoire"===e.tab?[i("li",{staticClass:"headline"},[e._v(e._s(e.$t("Grimoire")))]),e.players.length?i("li",{on:{click:e.toggleGrimoire}},[e.grimoire.isPublic?e._e():[e._v(e._s(e.$t("Hide")))],e.grimoire.isPublic?[e._v(e._s(e.$t("Show")))]:e._e(),i("em",[e._v("[G]")])],2):e._e(),e.session.isSpectator?e._e():i("li",{on:{click:e.toggleNight}},[e.grimoire.isNight?e._e():[e._v(" "+e._s(e.$t("Switch to Night"))+" ")],e.grimoire.isNight?[e._v(" "+e._s(e.$t("Switch to Day"))+" ")]:e._e(),i("em",[e._v("[S]")])],2),e.players.length?i("li",{on:{click:e.toggleNightOrder}},[e._v(" "+e._s(e.$t("Night order"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isNightOrder?"check-square":"square"]}})],1)]):e._e(),e.players.length?i("li",[e._v(" "+e._s(e.$t("Zoom"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:"search-minus"},on:{click:function(t){return e.setZoom(e.grimoire.zoom-1)}}}),e._v(" "+e._s(Math.round(100+10*e.grimoire.zoom))+"% "),i("font-awesome-icon",{attrs:{icon:"search-plus"},on:{click:function(t){return e.setZoom(e.grimoire.zoom+1)}}})],1)]):e._e(),i("li",{on:{click:e.setBackground}},[e._v(" "+e._s(e.$t("Background image"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:"image"}})],1)]),e.edition.isOfficial?e._e():i("li",{on:{click:e.imageOptIn}},[i("small",[e._v(e._s(e.$t("Show custom image")))]),i("em",[i("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isImageOptIn?"check-square":"square"]}})],1)]),i("li",{on:{click:e.toggleStatic}},[e._v(" "+e._s(e.$t("Disable Animations"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isStatic?"check-square":"square"]}})],1)]),i("li",{on:{click:e.toggleMuted}},[e._v(" "+e._s(e.$t("Mute Sounds"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isMuted?"volume-mute":"volume-up"]}})],1)])]:e._e(),"session"===e.tab?[e.session.sessionId?i("li",{staticClass:"headline"},[e._v(" "+e._s(e.session.isSpectator?e.$t("Playing"):e.$t("Hosting"))+" ")]):i("li",{staticClass:"headline"},[e._v(" "+e._s(e.$t("Live Session"))+" ")]),e.session.sessionId?[e.session.ping?i("li",[e._v(" "+e._s(e.$t("Delay to "))+" "+e._s(e.session.isSpectator?"host":"players")+" "),i("em",[e._v(e._s(e.session.ping)+"ms")])]):e._e(),i("li",{on:{click:e.copySessionUrl}},[e._v(" "+e._s(e.$t("Copy player link"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:"copy"}})],1)]),e.session.isSpectator?e._e():i("li",{on:{click:e.distributeRoles}},[e._v(" "+e._s(e.$t("Send Characters"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:"theater-masks"}})],1)]),e.session.voteHistory.length||!e.session.isSpectator?i("li",{on:{click:function(t){return e.toggleModal("voteHistory")}}},[e._v(" "+e._s(e.$t("Vote history"))),i("em",[e._v("[V]")])]):e._e(),i("li",{on:{click:e.leaveSession}},[e._v(" "+e._s(e.$t("Leave Session"))+" "),i("em",[e._v(e._s(e.session.sessionId))])])]:[i("li",{on:{click:e.hostSession}},[e._v(" "+e._s(e.$t("Host (Storyteller)"))),i("em",[e._v("[H]")])]),i("li",{on:{click:e.joinSession}},[e._v(e._s(e.$t("Join (Player)"))),i("em",[e._v("[J]")])])]]:e._e(),"players"!==e.tab||e.session.isSpectator?e._e():[i("li",{staticClass:"headline"},[e._v(e._s(e.$t("Players")))]),e.players.length<20?i("li",{on:{click:e.addPlayer}},[e._v(" "+e._s(e.$t("Add"))),i("em",[e._v("[A]")])]):e._e(),e.players.length>2?i("li",{on:{click:e.randomizeSeatings}},[e._v(" "+e._s(e.$t("Randomize"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:"dice"}})],1)]):e._e(),e.players.length?i("li",{on:{click:e.clearPlayers}},[e._v(" "+e._s(e.$t("Remove all"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()],"characters"===e.tab?[i("li",{staticClass:"headline"},[e._v(e._s(e.$t("Characters")))]),e.session.isSpectator?e._e():i("li",{on:{click:function(t){return e.toggleModal("edition")}}},[e._v(" "+e._s(e.$t("Select Edition"))+" "),i("em",[e._v("[E]")])]),!e.session.isSpectator&&e.players.length>4?i("li",{on:{click:function(t){return e.toggleModal("roles")}}},[e._v(" "+e._s(e.$t("Choose & Assign"))+" "),i("em",[e._v("[C]")])]):e._e(),e.session.isSpectator?e._e():i("li",{on:{click:function(t){return e.toggleModal("fabled")}}},[e._v(" "+e._s(e.$t("Add Fabled"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:"dragon"}})],1)]),e.players.length?i("li",{on:{click:e.clearRoles}},[e._v(" "+e._s(e.$t("Remove all"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()]:e._e(),"help"===e.tab?[i("li",{staticClass:"headline"},[e._v(e._s(e.$t("Help")))]),i("li",{on:{click:function(t){return e.toggleModal("reference")}}},[e._v(" "+e._s(e.$t("Reference Sheet"))+" "),i("em",[e._v("[R]")])]),i("li",{on:{click:function(t){return e.toggleModal("nightOrder")}}},[e._v(" "+e._s(e.$t("Night Order Sheet"))+" "),i("em",[e._v("[N]")])]),i("li",{on:{click:function(t){return e.toggleModal("gameState")}}},[e._v(" "+e._s(e.$t("Game State JSON"))+" "),i("em",[i("font-awesome-icon",{attrs:{icon:"file-code"}})],1)]),i("li",[i("a",{attrs:{href:"https://discord.gg/Gd7ybwWbFk",target:"_blank"}},[e._v(" "+e._s(e.$t("Join Discord"))+" ")]),i("em",[i("a",{attrs:{href:"https://discord.gg/Gd7ybwWbFk",target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:["fab","discord"]}})],1)])]),i("li",[i("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[e._v(" "+e._s(e.$t("Source code"))+" ")]),i("em",[i("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)])])]:e._e()],2)],1)])},ne=[],re={computed:{...Object(d["d"])(["grimoire","session","edition"]),...Object(d["d"])("players",["players"])},data(){return{tab:"grimoire"}},methods:{setBackground(){const e=prompt(this.$t("Enter custom background URL"));(e||""===e)&&this.$store.commit("setBackground",e)},hostSession(){if(this.session.sessionId)return;const e=prompt(this.$t("Enter a channel number / name for your session"),Math.round(1e4*Math.random()));e&&(this.$store.commit("session/clearVoteHistory"),this.$store.commit("session/setSpectator",!1),this.$store.commit("session/setSessionId",e),this.copySessionUrl())},copySessionUrl(){const e=window.location.href.split("#")[0],t=e+"#"+this.session.sessionId;navigator.clipboard.writeText(t)},distributeRoles(){if(this.session.isSpectator)return;const e=this.$t("Do you want to distribute assigned characters to all SEATED players?");confirm(e)&&(this.$store.commit("session/distributeRoles",!0),setTimeout((()=>{this.$store.commit("session/distributeRoles",!1)}).bind(this),2e3))},imageOptIn(){const e=this.$t("Are you sure you want to allow custom images? A malicious script file author might track your IP address this way.");(this.grimoire.isImageOptIn||confirm(e))&&this.toggleImageOptIn()},joinSession(){if(this.session.sessionId)return this.leaveSession();let e=prompt(this.$t("Enter the channel number / name of the session you want to join"));e.match(/^https?:\/\//i)&&(e=e.split("#").pop()),e&&(this.$store.commit("session/clearVoteHistory"),this.$store.commit("session/setSpectator",!0),this.$store.commit("toggleGrimoire",!1),this.$store.commit("session/setSessionId",e))},leaveSession(){confirm(this.$t("Are you sure you want to leave the active live game?"))&&(this.$store.commit("session/setSpectator",!1),this.$store.commit("session/setSessionId",""))},addPlayer(){if(this.session.isSpectator)return;if(this.players.length>=20)return;const e=prompt(this.$t("Player name"));e&&this.$store.commit("players/add",e)},randomizeSeatings(){this.session.isSpectator||confirm(this.$t("Are you sure you want to randomize seatings?"))&&this.$store.dispatch("players/randomize")},clearPlayers(){this.session.isSpectator||confirm(this.$t("Are you sure you want to remove all players?"))&&(this.session.nomination&&this.$store.commit("session/nomination"),this.$store.commit("players/clear"))},clearRoles(){confirm(this.$t("Are you sure you want to remove all player roles?"))&&this.$store.dispatch("players/clearRoles")},toggleNight(){this.$store.commit("toggleNight"),this.grimoire.isNight&&this.$store.commit("session/setMarkedPlayer",-1)},...Object(d["c"])(["toggleGrimoire","toggleMenu","toggleImageOptIn","toggleMuted","toggleNightOrder","toggleStatic","setZoom","toggleModal"])}},ae=re,le=(i("7798"),Object(N["a"])(ae,oe,ne,!1,null,"3cfcfe96",null)),ue=le.exports,ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.modals.roles&&e.nonTravelers>=5?i("Modal",{staticClass:"roles",on:{close:function(t){return e.toggleModal("roles")}}},[i("i18n",{attrs:{path:"Select the characters for {nonTravelers} players:",tag:"h3"},scopedSlots:e._u([{key:"nonTravelers",fn:function(){return[e._v(" "+e._s(e.nonTravelers)+" ")]},proxy:!0}],null,!1,784876144)}),e._l(e.roleSelection,(function(t,s){return i("ul",{key:s,staticClass:"tokens"},[i("li",{staticClass:"count",class:[s]},[e._v(" "+e._s(t.reduce((function(e,t){var i=t.selected;return e+i}),0))+" / "+e._s(e.game[e.nonTravelers-5][s])+" ")]),e._l(t,(function(t){return i("li",{key:t.id,class:[t.team,t.selected?"selected":""],on:{click:function(e){t.selected=t.selected?0:1}}},[i("Token",{attrs:{role:t}}),t.setup?i("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}):e._e(),e.allowMultiple?i("div",{staticClass:"buttons"},[i("font-awesome-icon",{attrs:{icon:"minus-circle"},on:{click:function(e){e.stopPropagation(),t.selected--}}}),i("span",[e._v(e._s(t.selected>1?"x"+t.selected:""))]),i("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(e){e.stopPropagation(),t.selected++}}})],1):e._e()],1)}))],2)})),e.hasSelectedSetupRoles?i("div",{staticClass:"warning"},[i("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}),i("span",[e._v(" "+e._s(e.$t("Warning: there are characters selected that modify the game setup! The randomizer does not account for these characters."))+" ")])],1):e._e(),i("label",{staticClass:"multiple",class:{checked:e.allowMultiple}},[i("font-awesome-icon",{attrs:{icon:e.allowMultiple?"check-square":"square"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.allowMultiple,expression:"allowMultiple"}],attrs:{type:"checkbox",name:"allow-multiple"},domProps:{checked:Array.isArray(e.allowMultiple)?e._i(e.allowMultiple,null)>-1:e.allowMultiple},on:{change:function(t){var i=e.allowMultiple,s=t.target,o=!!s.checked;if(Array.isArray(i)){var n=null,r=e._i(i,n);s.checked?r<0&&(e.allowMultiple=i.concat([n])):r>-1&&(e.allowMultiple=i.slice(0,r).concat(i.slice(r+1)))}else e.allowMultiple=o}}}),e._v(" "+e._s(e.$t("Allow duplicate characters"))+" ")],1),i("div",{staticClass:"button-group"},[i("div",{staticClass:"button",class:{disabled:e.selectedRoles>e.nonTravelers||!e.selectedRoles},on:{click:e.assignRoles}},[i("font-awesome-icon",{attrs:{icon:"people-arrows"}}),i("i18n",{attrs:{path:"Assign {roles} characters randomly",tag:"span"},scopedSlots:e._u([{key:"roles",fn:function(){return[e._v(" "+e._s(e.selectedRoles)+" ")]},proxy:!0}],null,!1,4122785081)})],1),i("div",{staticClass:"button",on:{click:e.selectRandomRoles}},[i("font-awesome-icon",{attrs:{icon:"random"}}),e._v(" "+e._s(e.$t("Shuffle characters"))+" ")],1)])],2):e._e()},de=[];const me=e=>e[Math.floor(Math.random()*e.length)];var pe={components:{Token:k,Modal:P},data:function(){return{roleSelection:{},game:X,allowMultiple:!1}},computed:{selectedRoles:function(){return Object.values(this.roleSelection).map(e=>e.reduce((e,{selected:t})=>e+t,0)).reduce((e,t)=>e+t,0)},hasSelectedSetupRoles:function(){return Object.values(this.roleSelection).some(e=>e.some(e=>e.selected&&e.setup))},...Object(d["d"])(["roles","modals"]),...Object(d["d"])("players",["players"]),...Object(d["b"])({nonTravelers:"players/nonTravelers"})},methods:{selectRandomRoles(){this.roleSelection={},this.roles.forEach(e=>{this.roleSelection[e.team]||this.$set(this.roleSelection,e.team,[]),this.roleSelection[e.team].push(e),this.$set(e,"selected",0)}),delete this.roleSelection["traveler"];const e=Math.max(5,this.nonTravelers),t=this.game[e-5];Object.keys(t).forEach(e=>{for(let i=0;i<t[e];i++)if(this.roleSelection[e]){const t=this.roleSelection[e].filter(e=>!e.selected);t.length&&(me(t).selected=1)}})},assignRoles(){if(this.selectedRoles<=this.nonTravelers&&this.selectedRoles){const e=Object.values(this.roleSelection).map(e=>e.reduce((e,t)=>[...e,...Array(t.selected).fill(t)],[])).reduce((e,t)=>[...e,...t],[]).map(e=>[Math.random(),e]).sort((e,t)=>e[0]-t[0]).map(e=>e[1]);this.players.forEach(t=>{if("traveler"!==t.role.team&&e.length){const i=e.pop();this.$store.commit("players/update",{player:t,property:"role",value:i})}}),this.$store.commit("toggleModal","roles")}},...Object(d["c"])(["toggleModal"])},mounted:function(){Object.keys(this.roleSelection).length||this.selectRandomRoles()},watch:{roles(){this.selectRandomRoles()}}},he=pe,ge=(i("c9ab"),Object(N["a"])(he,ce,de,!1,null,"be3c02de",null)),fe=ge.exports,ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.modals.edition?s("Modal",{staticClass:"editions",on:{close:function(t){return e.toggleModal("edition")}}},[e.isCustom?s("div",{staticClass:"custom"},[s("h3",[e._v(e._s(e.$t("Load custom script / characters")))]),s("i18n",{attrs:{path:'To play with a custom script, you need to select the characters you want to play with in the official {link} and then upload the generated "custom-list.json" either directly here or provide a URL to such a hosted JSON file.',tag:"span"},scopedSlots:e._u([{key:"link",fn:function(){return[s("a",{attrs:{href:"https://bloodontheclocktower.com/script-tool/",target:"_blank"}},[e._v(e._s(e.$t("Script Tool")))])]},proxy:!0}],null,!1,3098285218)}),s("br"),s("br"),s("i18n",{attrs:{path:"To play with custom characters, please read {documentation} on how to write a custom character definition file."},scopedSlots:e._u([{key:"documentation",fn:function(){return[s("a",{attrs:{href:"https://github.com/bra1n/townsquare#custom-characters",target:"_blank"}},[e._v(e._s(e.$t("the documentation")))])]},proxy:!0}],null,!1,2233441992)}),s("b",[e._v(" "+e._s(e.$t("Only load custom JSON files from sources that you trust!")))]),s("h3",[e._v(e._s(e.$t("Some popular custom scripts:")))]),s("ul",{staticClass:"scripts"},e._l(e.scripts,(function(t,i){return s("li",{key:i,on:{click:function(i){return e.handleURL(t[1])}}},[e._v(" "+e._s(t[0])+" ")])})),0),s("input",{ref:"upload",attrs:{type:"file",accept:"application/json"},on:{change:e.handleUpload}}),s("div",{staticClass:"button-group"},[s("div",{staticClass:"button",on:{click:e.openUpload}},[s("font-awesome-icon",{attrs:{icon:"file-upload"}}),e._v(" "+e._s(e.$t("Upload JSON"))+" ")],1),s("div",{staticClass:"button",on:{click:e.promptURL}},[s("font-awesome-icon",{attrs:{icon:"link"}}),e._v(" "+e._s(e.$t("Enter URL"))+" ")],1),s("div",{staticClass:"button",on:{click:function(t){e.isCustom=!1}}},[s("font-awesome-icon",{attrs:{icon:"undo"}}),e._v(" "+e._s(e.$t("Back"))+" ")],1)])],1):s("div",[s("h3",[e._v(e._s(e.$t("Select an edition:")))]),s("ul",{staticClass:"editions"},[e._l(e.editions,(function(t){return s("li",{key:t.id,staticClass:"edition",class:["edition-"+t.id],style:{backgroundImage:"url("+i("ce23")("./"+t.id+".png")+")"},on:{click:function(i){return e.setEdition(t)}}},[e._v(" "+e._s(t.name)+" ")])})),s("li",{staticClass:"edition edition-custom",style:{backgroundImage:"url("+i("441d")+")"},on:{click:function(t){e.isCustom=!0}}},[e._v(" "+e._s(e.$t("Custom Script / Characters"))+" ")])],2)])]):e._e()},be=[],ye=i("00c0"),_e={components:{Modal:P},data:function(){return{editions:ye,isCustom:!1,scripts:[["Deadly Penance Day","https://gist.githubusercontent.com/david-urvoy/5cbf2a6dacf8b678cca2952c2b3c5f10/raw/e3fa9c422909b5c7a8713295fa2f1207faa23116/dpd-roles.json"],["Catfishing 11.1","https://gist.githubusercontent.com/bra1n/8a5ec41a7bbf945f6b7dfc1cef72b569/raw/a312ab93c2f302e0ef83c8b65a4e8e82760fda3a/catfishing.json"],["On Thin Ice (Teensyville)","https://gist.githubusercontent.com/bra1n/8dacd9f2abc6f428331ea1213ab153f5/raw/0cacbcaf8ed9bddae0cca25a9ada97e9958d868b/on-thin-ice.json"],["Race To The Bottom (Teensyville)","https://gist.githubusercontent.com/bra1n/63e1354cb3dc9d4032bcd0623dc48888/raw/5acb0eedcc0a67a64a99c7e0e6271de0b7b2e1b2/race-to-the-bottom.json"],["Frankenstein's Mayor by Ted (Teensyville)","https://gist.githubusercontent.com/bra1n/32c52b422cc01b934a4291eeb81dbcee/raw/5bf770693bbf7aff5e86601c82ca4af3222f4ba6/Frankensteins_Mayor_by_Ted.json"],["Vigormortis High School (Teensyville)","https://gist.githubusercontent.com/bra1n/1f65bd4a999524719d5dabe98c3c2d27/raw/22bbec6bf56a51a7459e5ae41ed47e41971c5445/VigormortisHighSchool.json"]]}},computed:Object(d["d"])(["modals"]),methods:{openUpload(){this.$refs.upload.click()},handleUpload(){const e=this.$refs.upload.files[0];if(e&&e.size){const t=new FileReader;t.addEventListener("load",()=>{try{const e=JSON.parse(t.result);this.parseRoles(e)}catch(e){alert("Error reading custom script: "+e.message)}this.$refs.upload.value=""}),t.readAsText(e)}},promptURL(){const e=prompt("Enter URL to a custom-script.json file");e&&this.handleURL(e)},async handleURL(e){const t=await fetch(e);if(t&&t.json)try{const e=await t.json();this.parseRoles(e)}catch(i){alert("Error loading custom script: "+i.message)}},parseRoles(e){if(!e||!e.length)return;const t=e.findIndex(({id:e})=>"_meta"===e);let i={};if(t>-1&&(i=e.splice(t,1).pop()),this.$store.commit("setCustomRoles",e),this.$store.commit("setEdition",Object.assign({},i,{id:"custom"})),e.some(({id:e})=>this.$store.state.fabled.has(e))){const t=[];e.forEach(({id:e})=>{this.$store.state.fabled.has(e)&&t.push(this.$store.state.fabled.get(e))}),this.$store.commit("players/setFabled",{fabled:t})}this.isCustom=!1},...Object(d["c"])(["toggleModal","setEdition"])}},Ne=_e,je=(i("46a9"),Object(N["a"])(Ne,ve,be,!1,null,"dc0953fe",null)),ke=je.exports,Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"intro"},[i("img",{attrs:{src:"static/apple-icon.png",alt:""}}),i("i18n",{attrs:{path:"Welcome to the (unofficial) {grimoire} for Blood on the Clocktower ! Please add more players through the {menu} on the top right or by pressing {a-key}. You can also join a game session by pressing {j-key}."},scopedSlots:e._u([{key:"menu",fn:function(){return[i("span",{staticClass:"button",on:{click:e.toggleMenu}},[i("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" "+e._s(e.$t("Menu")))],1)]},proxy:!0},{key:"grimoire",fn:function(){return[i("b",[e._v(e._s(e.$t("Virtual Town Square and Grimoire")))])]},proxy:!0},{key:"a-key",fn:function(){return[i("b",[e._v("[A]")])]},proxy:!0},{key:"j-key",fn:function(){return[i("b",[e._v("[J]")])]},proxy:!0}])}),i("br"),i("div",{staticClass:"footer"},[i("i18n",{attrs:{path:'This project is free and open source and can be found on {github}. It is not affiliated with The Pandemonium Institute. "Blood on the Clocktower" is a trademark of Steven Medway and The Pandemonium Institute.'},scopedSlots:e._u([{key:"github",fn:function(){return[i("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[e._v("GitHub")])]},proxy:!0}])})],1)],1)},we=[],Re={methods:Object(d["c"])(["toggleMenu"])},xe=Re,Ce=(i("6b5c"),Object(N["a"])(xe,Se,we,!1,null,"aa80f1d2",null)),qe=Ce.exports,Me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.modals.reference&&e.roles.size?s("Modal",{staticClass:"characters",on:{close:function(t){return e.toggleModal("reference")}}},[s("font-awesome-icon",{staticClass:"toggle",attrs:{icon:"cloud-moon",title:this.$t("Show Night Order")},on:{click:function(t){return e.toggleModal("nightOrder")}}}),s("h3",[e._v(" "+e._s(e.$t("Character Reference"))+" "),s("font-awesome-icon",{attrs:{icon:"address-card"}}),e._v(" "+e._s(e.edition.name||"Custom Script")+" ")],1),e._l(e.rolesGrouped,(function(t,o){return s("div",{key:o,class:["team",o]},[s("aside",[s("h4",[e._v(e._s(e.$t(o)||o))])]),s("ul",[e._l(t,(function(t){return s("li",{key:t.id,class:[o]},[t.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image&&e.grimoire.isImageOptIn?t.image:i("61b0")("./"+(t.imageAlt||t.id)+".png"))+")"}}):e._e(),s("div",{staticClass:"role"},[Object.keys(e.playersByRole).length?s("span",{staticClass:"player"},[e._v(e._s(e.playersByRole[t.id]?e.playersByRole[t.id].join(", "):""))]):e._e(),s("span",{staticClass:"name"},[e._v(e._s(t.name))]),s("span",{staticClass:"ability"},[e._v(e._s(t.ability))])])])})),s("li",{class:[o]}),s("li",{class:[o]})],2)])})),e.jinxed.length?s("div",{staticClass:"team jinxed"},[s("aside",[s("h4",[e._v(e._s(e.$t("Jinxed")))])]),s("ul",[e._l(e.jinxed,(function(t,o){return s("li",{key:o},[s("span",{staticClass:"icon",style:{backgroundImage:"url("+i("61b0")("./"+t.first.id+".png")+")"}}),s("span",{staticClass:"icon",style:{backgroundImage:"url("+i("61b0")("./"+t.second.id+".png")+")"}}),s("div",{staticClass:"role"},[s("span",{staticClass:"name"},[e._v(e._s(t.first.name)+" & "+e._s(t.second.name))]),s("span",{staticClass:"ability"},[e._v(e._s(t.reason))])])])})),s("li"),s("li")],2)]):e._e()],2):e._e()},ze=[],Ie={components:{Modal:P},computed:{jinxed:function(){const e=[];return this.roles.forEach(t=>{this.jinxes.get(t.id)&&this.jinxes.get(t.id).forEach((i,s)=>{this.roles.get(s)&&e.push({first:t,second:this.roles.get(s),reason:i})})}),e},rolesGrouped:function(){const e={};return this.roles.forEach(t=>{e[t.team]||(e[t.team]=[]),e[t.team].push(t)}),delete e["traveler"],e},playersByRole:function(){const e={};return this.players.forEach(({name:t,role:i})=>{i&&i.id&&"traveler"!==i.team&&(e[i.id]||(e[i.id]=[]),e[i.id].push(t))}),e},...Object(d["d"])(["roles","modals","edition","grimoire","jinxes"]),...Object(d["d"])("players",["players"])},methods:{...Object(d["c"])(["toggleModal"])}},$e=Ie,Oe=(i("a5fa"),Object(N["a"])($e,Me,ze,!1,null,"6d29235c",null)),Pe=Oe.exports,Ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"vote"}},[s("div",{staticClass:"arrows"},[s("span",{staticClass:"nominee",style:e.nomineeStyle}),s("span",{staticClass:"nominator",style:e.nominatorStyle})]),s("div",{staticClass:"overlay"},[s("audio",{attrs:{src:i("f6a8"),preload:"auto"}}),s("em",{staticClass:"blue"},[e._v(e._s(e.nominator.name))]),e._v(" "+e._s(e.$t("nominated"))+" "),s("em",[e._v(e._s(e.nominee.name))]),e._v("! "),s("br"),s("em",{staticClass:"blue"},[e._v(" "+e._s(e.voters.length)+" "+e._s(e.$t("vote"))+e._s(1!==e.voters.length?"s":"")+" ")]),e._v(" "+e._s(e.$t("in favor"))+" "),"traveler"!==e.nominee.role.team?s("em",[e._v(" ("+e._s(e.$t("majority is"))+" "+e._s(Math.ceil(e.alive/2))+") ")]):s("em",[e._v(" ("+e._s(e.$t("majority is"))+" "+e._s(Math.ceil(e.players.length/2))+") ")]),e.session.isSpectator?e.canVote?[e.session.isVoteInProgress?e._e():s("div",[e._v(" "+e._s(e.session.votingSpeed/1e3)+" "+e._s(e.$t("seconds between votes"))+" ")]),s("div",{staticClass:"button-group"},[s("div",{staticClass:"button townsfolk",class:{disabled:!e.currentVote},on:{click:function(t){return e.vote(!1)}}},[e._v(" "+e._s(e.$t("Hand DOWN"))+" ")]),s("div",{staticClass:"button demon",class:{disabled:e.currentVote},on:{click:function(t){return e.vote(!0)}}},[e._v(" "+e._s(e.$t("Hand UP"))+" ")])])]:e.player?e._e():s("div",[e._v(e._s(e.$t("Please claim a seat to vote"))+".")]):[!e.session.isVoteInProgress&&e.session.lockedVote<1?s("div",[e._v(" "+e._s(e.$t("Time per player"))+": "),s("font-awesome-icon",{attrs:{icon:"minus-circle"},on:{mousedown:function(t){return t.preventDefault(),e.setVotingSpeed(-500)}}}),e._v(" "+e._s(e.session.votingSpeed/1e3)+"s "),s("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{mousedown:function(t){return t.preventDefault(),e.setVotingSpeed(500)}}})],1):e._e(),s("div",{staticClass:"button-group"},[e.session.isVoteInProgress?e._e():s("div",{staticClass:"button townsfolk",on:{click:e.countdown}},[e._v(" "+e._s(e.$t("Countdown"))+" ")]),e.session.isVoteInProgress?[s("div",{staticClass:"button townsfolk",class:{disabled:!e.session.lockedVote},on:{click:e.pause}},[e._v(" "+e._s(e.voteTimer?e.$t("Pause"):e.$t("Resume"))+" ")]),s("div",{staticClass:"button",on:{click:e.stop}},[e._v(e._s(e.$t("Reset")))])]:s("div",{staticClass:"button",on:{click:e.start}},[e._v(" "+e._s(e.session.lockedVote?e.$t("Restart"):e.$t("Start"))+" ")]),s("div",{staticClass:"button demon",on:{click:e.finish}},[e._v(e._s(e.$t("Close")))])],2),"traveler"!==e.nominee.role.team?s("div",{staticClass:"button-group mark"},[s("div",{staticClass:"button",class:{disabled:e.session.nomination[1]===e.session.markedPlayer},on:{click:e.setMarked}},[e._v(" "+e._s(e.$t("Mark for execution"))+" ")]),s("div",{staticClass:"button",on:{click:e.removeMarked}},[e._v(" "+e._s(e.$t("Clear mark"))+" ")])]):e._e()]],2),s("transition",{attrs:{name:"blur"}},[e.session.isVoteInProgress&&!e.session.lockedVote?s("div",{staticClass:"countdown"},[s("span",[e._v("3")]),s("span",[e._v("2")]),s("span",[e._v("1")]),s("span",[e._v("GO")]),s("audio",{attrs:{autoplay:!e.grimoire.isMuted,src:i("f6a8"),muted:e.grimoire.isMuted}})]):e._e()])],1)},De=[],Te={computed:{...Object(d["d"])("players",["players"]),...Object(d["d"])(["session","grimoire"]),...Object(d["b"])({alive:"players/alive"}),nominator:function(){return this.players[this.session.nomination[0]]},nominatorStyle:function(){const e=this.players.length,t=this.session.nomination[0];return{transform:`rotate(${Math.round(t/e*360)}deg)`,transitionDuration:this.session.votingSpeed-100+"ms"}},nominee:function(){return this.players[this.session.nomination[1]]},nomineeStyle:function(){const e=this.players.length,t=this.session.nomination[1],i=this.session.lockedVote,s=360*(t+Math.min(i,e))/e;return{transform:`rotate(${Math.round(s)}deg)`,transitionDuration:this.session.votingSpeed-100+"ms"}},player:function(){return this.players.find(e=>e.id===this.session.playerId)},currentVote:function(){const e=this.players.findIndex(e=>e.id===this.session.playerId);return e>=0?!!this.session.votes[e]:void 0},canVote:function(){if(!this.player)return!1;if(this.player.isVoteless&&"traveler"!==this.nominee.role.team)return!1;const e=this.session,t=this.players.length,i=this.players.indexOf(this.player),s=(i-1+t-e.nomination[1])%t;return s>=e.lockedVote-1},voters:function(){const e=this.session.nomination[1],t=Array(this.players.length).fill("").map((e,t)=>this.session.votes[t]?this.players[t].name:""),i=[...t.slice(e+1),...t.slice(0,e+1)];return(this.session.lockedVote?i.slice(0,this.session.lockedVote-1):i).filter(e=>!!e)}},data(){return{voteTimer:null}},methods:{countdown(){this.$store.commit("session/lockVote",0),this.$store.commit("session/setVoteInProgress",!0),this.voteTimer=setInterval(()=>{this.start()},4e3)},start(){this.$store.commit("session/lockVote",1),this.$store.commit("session/setVoteInProgress",!0),clearInterval(this.voteTimer),this.voteTimer=setInterval(()=>{this.$store.commit("session/lockVote"),this.session.lockedVote>this.players.length&&(clearInterval(this.voteTimer),this.$store.commit("session/setVoteInProgress",!1))},this.session.votingSpeed)},pause(){this.voteTimer?(clearInterval(this.voteTimer),this.voteTimer=null):this.voteTimer=setInterval(()=>{this.$store.commit("session/lockVote"),this.session.lockedVote>this.players.length&&(clearInterval(this.voteTimer),this.$store.commit("session/setVoteInProgress",!1))},this.session.votingSpeed)},stop(){clearInterval(this.voteTimer),this.voteTimer=null,this.$store.commit("session/setVoteInProgress",!1),this.$store.commit("session/lockVote",0)},finish(){clearInterval(this.voteTimer),this.$store.commit("session/addHistory",this.players),this.$store.commit("session/nomination")},vote(e){if(!this.canVote)return!1;const t=this.players.findIndex(e=>e.id===this.session.playerId);t>=0&&!!this.session.votes[t]!==e&&this.$store.commit("session/voteSync",[t,e])},setVotingSpeed(e){const t=Math.round(this.session.votingSpeed+e);t>0&&this.$store.commit("session/setVotingSpeed",t)},setMarked(){this.$store.commit("session/setMarkedPlayer",this.session.nomination[1])},removeMarked(){this.$store.commit("session/setMarkedPlayer",-1)}}},Le=Te,Ee=(i("1601"),Object(N["a"])(Le,Ve,De,!1,null,"5465afbc",null)),Ae=Ee.exports,Fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"gradients"}},e._l(e.gradients,(function(e,t){return i("svg",{key:t,attrs:{width:"0",height:"0"}},[i("linearGradient",{attrs:{id:e[0],x1:"50%",y1:"100%",x2:"50%",y2:"0%"}},[i("stop",{style:{"stop-color":e[2],"stop-opacity":1},attrs:{offset:"0%"}}),i("stop",{style:{"stop-color":e[1],"stop-opacity":1},attrs:{offset:"100%"}})],1)],1)})),0)},He=[],Ge={data(){return{gradients:[["demon","#ce0100","#000"],["townsfolk","#1f65ff","#000"],["default","#4E4E4E","#000"]]}}},Be=Ge,Ue=(i("3f8f"),Object(N["a"])(Be,Fe,He,!1,null,"1e202a64",null)),Je=Ue.exports,We=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.modals.nightOrder&&e.roles.size?s("Modal",{staticClass:"night-reference",on:{close:function(t){return e.toggleModal("nightOrder")}}},[s("font-awesome-icon",{staticClass:"toggle",attrs:{icon:"address-card",title:this.$t("Show Character Reference")},on:{click:function(t){return e.toggleModal("reference")}}}),s("h3",[e._v(" "+e._s(e.$t("Night Order"))+" "),s("font-awesome-icon",{attrs:{icon:"cloud-moon"}}),e._v(" "+e._s(e.edition.name||"Custom Script")+" ")],1),s("div",{staticClass:"night"},[s("ul",{staticClass:"first"},[s("li",{staticClass:"headline"},[e._v(e._s(e.$t("First Night")))]),e._l(e.rolesFirstNight,(function(t){return s("li",{key:t.name,class:[t.team]},[s("span",{staticClass:"name"},[e._v(" "+e._s(t.name)+" "),t.players.length?s("span",{staticClass:"player"},[s("br"),e._l(t.players,(function(i,o){return s("small",{key:o,class:{dead:i.isDead}},[e._v(e._s(i.name+(t.players.length>o+1?",":"")))])}))],2):e._e()]),t.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image&&e.grimoire.isImageOptIn?t.image:i("61b0")("./"+(t.imageAlt||t.id)+".png"))+")"}}):e._e(),t.firstNightReminder?s("span",{staticClass:"reminder"},[e._v(" "+e._s(t.firstNightReminder)+" ")]):e._e()])}))],2),s("ul",{staticClass:"other"},[s("li",{staticClass:"headline"},[e._v(e._s(e.$t("Other Nights")))]),e._l(e.rolesOtherNight,(function(t){return s("li",{key:t.name,class:[t.team]},[t.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image&&e.grimoire.isImageOptIn?t.image:i("61b0")("./"+(t.imageAlt||t.id)+".png"))+")"}}):e._e(),s("span",{staticClass:"name"},[e._v(" "+e._s(t.name)+" "),t.players.length?s("span",{staticClass:"player"},[s("br"),e._l(t.players,(function(i,o){return s("small",{key:o,class:{dead:i.isDead}},[e._v(e._s(i.name+(t.players.length>o+1?",":"")))])}))],2):e._e()]),t.otherNightReminder?s("span",{staticClass:"reminder"},[e._v(" "+e._s(t.otherNightReminder)+" ")]):e._e()])}))],2)])],1):e._e()},Ze=[],Ye={components:{Modal:P},computed:{rolesFirstNight:function(){const e=[];return this.players.length>6&&e.push({id:"evil",name:this.$t("Minion info"),firstNight:4,team:"minion",players:this.players.filter(e=>"minion"===e.role.team),firstNightReminder:this.$t("• If more than one Minion, they all make eye contact with each other. • Show the “This is the Demon” card. Point to the Demon.")},{id:"evil",name:this.$t("Demon info & bluffs"),firstNight:7,team:"demon",players:this.players.filter(e=>"demon"===e.role.team),firstNightReminder:this.$t("• Show the “These are your minions” card. Point to each Minion. • Show the “These characters are not in play” card. Show 3 character tokens of good characters not in play.")}),this.roles.forEach(t=>{const i=this.players.filter(e=>e.role.id===t.id);t.firstNight&&("traveler"!==t.team||i.length)&&e.push(Object.assign({players:i},t))}),this.fabled.filter(({firstNight:e})=>e).forEach(t=>{e.push(Object.assign({players:[]},t))}),e.sort((e,t)=>e.firstNight-t.firstNight),e},rolesOtherNight:function(){const e=[];return this.roles.forEach(t=>{const i=this.players.filter(e=>e.role.id===t.id);t.otherNight&&("traveler"!==t.team||i.length)&&e.push(Object.assign({players:i},t))}),this.fabled.filter(({otherNight:e})=>e).forEach(t=>{e.push(Object.assign({players:[]},t))}),e.sort((e,t)=>e.otherNight-t.otherNight),e},...Object(d["d"])(["roles","modals","edition","grimoire"]),...Object(d["d"])("players",["players","fabled"])},methods:{...Object(d["c"])(["toggleModal"])}},Qe=Ye,Ke=(i("2e47"),Object(N["a"])(Qe,We,Ze,!1,null,"5416d037",null)),Xe=Ke.exports,et=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.modals.fabled&&e.fabled.length?i("Modal",{on:{close:function(t){return e.toggleModal("fabled")}}},[i("h3",[e._v(" "+e._s(e.$t("Choose a fabled character to add to the game"))+" ")]),i("ul",{staticClass:"tokens"},e._l(e.fabled,(function(t){return i("li",{key:t.id,on:{click:function(i){return e.setFabled(t)}}},[i("Token",{attrs:{role:t}})],1)})),0)]):e._e()},tt=[],it={components:{Token:k,Modal:P},computed:{...Object(d["d"])(["modals","fabled","grimoire"]),fabled(){const e=[];return this.$store.state.fabled.forEach(t=>{this.$store.state.players.fabled.some(e=>e.id===t.id)||e.push(t)}),e}},methods:{setFabled(e){this.$store.commit("players/setFabled",{fabled:e}),this.$store.commit("toggleModal","fabled")},...Object(d["c"])(["toggleModal"])}},st=it,ot=(i("5e60"),Object(N["a"])(st,et,tt,!1,null,"c8d9e076",null)),nt=ot.exports,rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return!e.modals.voteHistory||!e.session.voteHistory&&e.session.isSpectator?e._e():i("Modal",{staticClass:"vote-history",on:{close:function(t){return e.toggleModal("voteHistory")}}},[e.session.isSpectator?i("font-awesome-icon",{staticClass:"clear",attrs:{icon:"trash-alt",title:"Clear vote history"},on:{click:e.clearVoteHistory}}):e._e(),i("h3",[e._v(e._s(e.$t("Vote history")))]),e.session.isSpectator?e._e():[i("div",{staticClass:"options"},[i("div",{staticClass:"option",on:{click:e.setRecordVoteHistory}},[i("font-awesome-icon",{attrs:{icon:["fas",e.session.isVoteHistoryAllowed?"check-square":"square"]}}),e._v(" "+e._s(e.$t("Accessible to players"))+" ")],1),i("div",{staticClass:"option",on:{click:e.clearVoteHistory}},[i("font-awesome-icon",{attrs:{icon:"trash-alt"}}),e._v(" "+e._s(e.$t("Clear for everyone"))+" ")],1)])],i("table",[i("thead",[i("tr",[i("td",[e._v(e._s(e.$t("Time")))]),i("td",[e._v(e._s(e.$t("Nominator")))]),i("td",[e._v(e._s(e.$t("Nominee")))]),i("td",[e._v(e._s(e.$t("Type")))]),i("td",[e._v(e._s(e.$t("Votes")))]),i("td",[e._v(e._s(e.$t("Majority")))]),i("td",[i("font-awesome-icon",{attrs:{icon:"user-friends"}}),e._v(" "+e._s(e.$t("Voters"))+" ")],1)])]),i("tbody",e._l(e.session.voteHistory,(function(t,s){return i("tr",{key:s},[i("td",[e._v(" "+e._s(t.timestamp.getHours().toString().padStart(2,"0"))+":"+e._s(t.timestamp.getMinutes().toString().padStart(2,"0"))+" ")]),i("td",[e._v(e._s(t.nominator))]),i("td",[e._v(e._s(t.nominee))]),i("td",[e._v(e._s(t.type))]),i("td",[e._v(" "+e._s(t.votes.length)+" "),i("font-awesome-icon",{attrs:{icon:"hand-paper"}})],1),i("td",[e._v(" "+e._s(t.majority)+" "),i("font-awesome-icon",{attrs:{icon:["fas",t.votes.length>=t.majority?"check-square":"square"]}})],1),i("td",[e._v(" "+e._s(t.votes.join(", "))+" ")])])})),0)])],2)},at=[],lt={components:{Modal:P},computed:{...Object(d["d"])(["session","modals"])},methods:{clearVoteHistory(){this.$store.commit("session/clearVoteHistory")},setRecordVoteHistory(){this.$store.commit("session/setVoteHistoryAllowed",!this.session.isVoteHistoryAllowed)},...Object(d["c"])(["toggleModal"])}},ut=lt,ct=(i("4a58"),Object(N["a"])(ut,rt,at,!1,null,"04d4fa9c",null)),dt=ct.exports,mt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.modals.gameState?i("Modal",{staticClass:"game-state",on:{close:function(t){return e.toggleModal("gameState")}}},[i("h3",[e._v(e._s(e.$t("Current Game State")))]),i("textarea",{domProps:{value:e.gamestate},on:{input:function(t){t.stopPropagation(),e.input=t.target.value},click:function(e){return e.target.select()},keyup:function(e){e.stopPropagation()}}}),i("div",{staticClass:"button-group"},[i("div",{staticClass:"button townsfolk",on:{click:e.copy}},[i("font-awesome-icon",{attrs:{icon:"copy"}}),e._v(" "+e._s(e.$t("Copy JSON"))+" ")],1),e.session.isSpectator?e._e():i("div",{staticClass:"button demon",on:{click:e.load}},[i("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" "+e._s(e.$t("Load State"))+" ")],1)])]):e._e()},pt=[],ht={components:{Modal:P},computed:{gamestate:function(){return JSON.stringify({bluffs:this.players.bluffs.map(({id:e})=>e),edition:this.edition.isOfficial?{id:this.edition.id}:this.edition,roles:this.edition.isOfficial?"":this.$store.getters.customRolesStripped,fabled:this.players.fabled.map(({id:e})=>e),players:this.players.players.map(e=>({...e,role:e.role.id||{}}))})},...Object(d["d"])(["modals","players","edition","roles","session"])},data(){return{input:""}},methods:{copy:function(){navigator.clipboard.writeText(this.input||this.gamestate)},load:function(){if(!this.session.isSpectator)try{const e=JSON.parse(this.input||this.gamestate),{bluffs:t,edition:i,roles:s,fabled:o,players:n}=e;s&&this.$store.commit("setCustomRoles",s),i&&this.$store.commit("setEdition",i),t.length&&t.forEach((e,t)=>{this.$store.commit("players/setBluff",{index:t,role:this.$store.state.roles.get(e)||{}})}),o&&this.$store.commit("players/setFabled",{fabled:o.map(e=>this.$store.state.fabled.get(e))}),n&&this.$store.commit("players/set",n.map(e=>({...e,role:this.$store.state.roles.get(e.role)||this.$store.getters.rolesJSONbyId.get(e.role)||{}}))),this.toggleModal("gameState")}catch(e){alert("Unable to parse JSON: "+e)}},...Object(d["c"])(["toggleModal"])}},gt=ht,ft=(i("9fe4"),Object(N["a"])(gt,mt,pt,!1,null,"5a91c013",null)),vt=ft.exports,bt={components:{GameStateModal:vt,VoteHistoryModal:dt,FabledModal:nt,NightOrderModal:Xe,Vote:Ae,ReferenceModal:Pe,Intro:qe,TownInfo:se,TownSquare:Y,Menu:ue,EditionModal:ke,RolesModal:fe,Gradients:Je},computed:{...Object(d["d"])(["grimoire","session"]),...Object(d["d"])("players",["players"])},data(){return{version:m["a"]}},methods:{keyup({key:e,ctrlKey:t,metaKey:i}){if(!t&&!i)switch(e.toLocaleLowerCase()){case"g":this.$store.commit("toggleGrimoire");break;case"a":this.$refs.menu.addPlayer();break;case"h":this.$refs.menu.hostSession();break;case"j":this.$refs.menu.joinSession();break;case"r":this.$store.commit("toggleModal","reference");break;case"n":this.$store.commit("toggleModal","nightOrder");break;case"e":if(this.session.isSpectator)return;this.$store.commit("toggleModal","edition");break;case"c":if(this.session.isSpectator)return;this.$store.commit("toggleModal","roles");break;case"v":!this.session.voteHistory.length&&this.session.isSpectator||this.$store.commit("toggleModal","voteHistory");break;case"s":if(this.session.isSpectator)return;this.$refs.menu.toggleNight();break;case"escape":this.$store.commit("toggleModal")}}}},yt=bt,_t=(i("5c0b"),Object(N["a"])(yt,u,c,!1,null,null,null)),Nt=_t.exports,jt=i("dfb1"),kt=i.n(jt);class St{constructor(e){this._wss="wss://live.clocktower.online:8080/",this._socket=null,this._isSpectator=!0,this._gamestate=[],this._store=e,this._pingInterval=3e4,this._pingTimer=null,this._reconnectTimer=null,this._players={},this._pings={},this._store.state.session.sessionId&&this.connect(this._store.state.session.sessionId)}_open(e){this.disconnect(),this._socket=new WebSocket(this._wss+e+"/"+(this._isSpectator?this._store.state.session.playerId:"host")),this._socket.addEventListener("message",this._handleMessage.bind(this)),this._socket.onopen=this._onOpen.bind(this),this._socket.onclose=t=>{this._socket=null,clearInterval(this._pingTimer),this._pingTimer=null,1e3!==t.code?(this._store.commit("session/setReconnecting",!0),this._reconnectTimer=setTimeout(()=>this.connect(e),3e3)):(this._store.commit("session/setSessionId",""),t.reason&&alert(t.reason))}}_send(e,t){this._socket&&1===this._socket.readyState&&this._socket.send(JSON.stringify([e,t]))}_sendDirect(e,t,i){e?this._send("direct",{[e]:[t,i]}):this._send(t,i)}_onOpen(){this._isSpectator?this._sendDirect("host","getGamestate",this._store.state.session.playerId):this.sendGamestate(),this._ping()}_ping(){this._handlePing(),this._send("ping",[this._isSpectator?this._store.state.session.playerId:Object.keys(this._players).length,"latency"]),clearTimeout(this._pingTimer),this._pingTimer=setTimeout(this._ping.bind(this),this._pingInterval)}_handleMessage({data:e}){let t,i;try{[t,i]=JSON.parse(e)}catch(s){console.log("unsupported socket message",e)}switch(t){case"getGamestate":this.sendGamestate(i);break;case"edition":this._updateEdition(i);break;case"fabled":this._updateFabled(i);break;case"gs":this._updateGamestate(i);break;case"player":this._updatePlayer(i);break;case"claim":this._updateSeat(i);break;case"ping":this._handlePing(i);break;case"nomination":if(!this._isSpectator)return;i||this._store.commit("session/addHistory",this._store.state.players.players),this._store.commit("session/nomination",{nomination:i});break;case"swap":if(!this._isSpectator)return;this._store.commit("players/swap",i);break;case"swapRole":if(!this._isSpectator)return;this._store.commit("players/swapRole",i);break;case"move":if(!this._isSpectator)return;this._store.commit("players/move",i);break;case"remove":if(!this._isSpectator)return;this._store.commit("players/remove",i);break;case"marked":if(!this._isSpectator)return;this._store.commit("session/setMarkedPlayer",i);break;case"isNight":if(!this._isSpectator)return;this._store.commit("toggleNight",i);break;case"isVoteHistoryAllowed":if(!this._isSpectator)return;this._store.commit("session/setVoteHistoryAllowed",i),this._store.commit("session/clearVoteHistory");break;case"votingSpeed":if(!this._isSpectator)return;this._store.commit("session/setVotingSpeed",i);break;case"clearVoteHistory":if(!this._isSpectator)return;this._store.commit("session/clearVoteHistory");break;case"isVoteInProgress":if(!this._isSpectator)return;this._store.commit("session/setVoteInProgress",i);break;case"vote":this._handleVote(i);break;case"lock":this._handleLock(i);break;case"bye":this._handleBye(i);break;case"pronouns":this._updatePlayerPronouns(i);break}}connect(e){this._store.state.session.playerId||this._store.commit("session/setPlayerId",Math.random().toString(36).substr(2)),this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._isSpectator=this._store.state.session.isSpectator,this._open(e)}disconnect(){this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._store.commit("session/setReconnecting",!1),clearTimeout(this._reconnectTimer),this._socket&&(this._isSpectator&&this._sendDirect("host","bye",this._store.state.session.playerId),this._socket.close(1e3),this._socket=null)}sendGamestate(e="",t=!1){if(!this._isSpectator)if(this._gamestate=this._store.state.players.players.map(e=>({name:e.name,id:e.id,isDead:e.isDead,isVoteless:e.isVoteless,pronouns:e.pronouns,...e.role&&"traveler"===e.role.team?{roleId:e.role.id}:{}})),t)this._sendDirect(e,"gs",{gamestate:this._gamestate,isLightweight:t});else{const{session:t,grimoire:i}=this._store.state,{fabled:s}=this._store.state.players;this.sendEdition(e),this._sendDirect(e,"gs",{gamestate:this._gamestate,isNight:i.isNight,isVoteHistoryAllowed:t.isVoteHistoryAllowed,nomination:t.nomination,votingSpeed:t.votingSpeed,lockedVote:t.lockedVote,isVoteInProgress:t.isVoteInProgress,markedPlayer:t.markedPlayer,fabled:s.map(e=>e.isCustom?e:{id:e.id}),...t.nomination?{votes:t.votes}:{}})}}_updateGamestate(e){if(!this._isSpectator)return;const{gamestate:t,isLightweight:i,isNight:s,isVoteHistoryAllowed:o,nomination:n,votingSpeed:r,votes:a,lockedVote:l,isVoteInProgress:u,markedPlayer:c,fabled:d}=e,m=this._store.state.players.players;if(m.length<t.length)for(let p=m.length;p<t.length;p++)this._store.commit("players/add",t[p].name);else if(m.length>t.length)for(let p=m.length;p>t.length;p--)this._store.commit("players/remove",p-1);t.forEach((e,t)=>{const i=m[t],{roleId:s}=e;if(["name","id","isDead","isVoteless","pronouns"].forEach(t=>{const s=e[t];i[t]!==s&&this._store.commit("players/update",{player:i,property:t,value:s})}),s&&i.role.id!==s){const e=this._store.state.roles.get(s)||this._store.getters.rolesJSONbyId.get(s);e&&this._store.commit("players/update",{player:i,property:"role",value:e})}else s||"traveler"!==i.role.team||this._store.commit("players/update",{player:i,property:"role",value:{}})}),i||(this._store.commit("toggleNight",!!s),this._store.commit("session/setVoteHistoryAllowed",o),this._store.commit("session/nomination",{nomination:n,votes:a,votingSpeed:r,lockedVote:l,isVoteInProgress:u}),this._store.commit("session/setMarkedPlayer",c),this._store.commit("players/setFabled",{fabled:d.map(e=>this._store.state.fabled.get(e.id)||e)}))}sendEdition(e=""){if(this._isSpectator)return;const{edition:t}=this._store.state;let i;t.isOfficial||(i=this._store.getters.customRolesStripped),this._sendDirect(e,"edition",{edition:t.isOfficial?{id:t.id}:t,...i?{roles:i}:{}})}_updateEdition({edition:e,roles:t}){if(this._isSpectator&&(this._store.commit("setEdition",e),t&&(this._store.commit("setCustomRoles",t),this._store.state.roles.size!==t.length))){const e=[];t.forEach(({id:t})=>{this._store.state.roles.get(t)||e.push(t)}),alert("This session contains custom characters that can't be found. Please load them before joining! Missing roles: "+e.join(", ")),this.disconnect(),this._store.commit("toggleModal","edition")}}sendFabled(){if(this._isSpectator)return;const{fabled:e}=this._store.state.players;this._send("fabled",e.map(e=>e.isCustom?e:{id:e.id}))}_updateFabled(e){this._isSpectator&&this._store.commit("players/setFabled",{fabled:e.map(e=>this._store.state.fabled.get(e.id)||e)})}sendPlayer({player:e,property:t,value:i}){if(this._isSpectator||"reminders"===t)return;const s=this._store.state.players.players.indexOf(e);"role"===t?i.team&&"traveler"===i.team?(this._gamestate[s].roleId=i.id,this._send("player",{index:s,property:t,value:i.id})):this._gamestate[s].roleId&&(delete this._gamestate[s].roleId,this._send("player",{index:s,property:t,value:""})):this._send("player",{index:s,property:t,value:i})}_updatePlayer({index:e,property:t,value:i}){if(!this._isSpectator)return;const s=this._store.state.players.players[e];if(s)if("role"===t)if(i||"traveler"!==s.role.team){const e=this._store.state.roles.get(i)||this._store.getters.rolesJSONbyId.get(i)||{};this._store.commit("players/update",{player:s,property:"role",value:e})}else this._store.commit("players/update",{player:s,property:"role",value:{}});else this._store.commit("players/update",{player:s,property:t,value:i})}sendPlayerPronouns({player:e,value:t,isFromSockets:i}){if(i||this._isSpectator&&this._store.state.session.playerId!==e.id)return;const s=this._store.state.players.players.indexOf(e);this._send("pronouns",[s,t])}_updatePlayerPronouns([e,t]){const i=this._store.state.players.players[e];this._store.commit("players/update",{player:i,property:"pronouns",value:t,isFromSockets:!0})}_handlePing([e=0,t]=[]){const i=(new Date).getTime();if(this._isSpectator)t&&this._store.commit("session/setPing",parseInt(t,10));else{for(let e in this._players)i-this._players[e]>2*this._pingInterval&&(delete this._players[e],delete this._pings[e]);if(this._store.state.players.players.forEach(e=>{e.id&&!this._players[e.id]&&this._store.commit("players/update",{player:e,property:"id",value:""})}),e){this._players[e]=i;const s=parseInt(t,10);if(s&&s>0&&s<3e4){this._pings[e]=s;const t=Object.values(this._pings);this._store.commit("session/setPing",Math.round(t.reduce((e,t)=>e+t,0)/t.length))}}}this._isSpectator&&!e||this._store.commit("session/setPlayerCount",this._isSpectator?e:Object.keys(this._players).length)}_handleBye(e){this._isSpectator||(delete this._players[e],this._store.commit("session/setPlayerCount",Object.keys(this._players).length))}claimSeat(e){if(!this._isSpectator)return;const t=this._store.state.players.players;t.length>e&&(e<0||!t[e].id)&&this._send("claim",[e,this._store.state.session.playerId])}_updateSeat([e,t]){if(this._isSpectator)return;const i="id",s=this._store.state.players.players,o=s.findIndex(({id:e})=>e===t);if(o>=0&&o!==e&&this._store.commit("players/update",{player:s[o],property:i,value:""}),e>=0){const o=s[e];if(!o)return;this._store.commit("players/update",{player:o,property:i,value:t})}this._handlePing([!0,t,0])}distributeRoles(){if(this._isSpectator)return;const e={};this._store.state.players.players.forEach((t,i)=>{t.id&&t.role&&(e[t.id]=["player",{index:i,property:"role",value:t.role.id}])}),Object.keys(e).length&&this._send("direct",e)}nomination(e){if(this._isSpectator)return;const t=e&&e.nomination||e,i=this._store.state.players.players;(!t||i.length>t[0]&&i.length>t[1])&&(this.setVotingSpeed(this._store.state.session.votingSpeed),this._send("nomination",t))}setVoteInProgress(){this._isSpectator||this._send("isVoteInProgress",this._store.state.session.isVoteInProgress)}setIsNight(){this._isSpectator||this._send("isNight",this._store.state.grimoire.isNight)}setVoteHistoryAllowed(){this._isSpectator||this._send("isVoteHistoryAllowed",this._store.state.session.isVoteHistoryAllowed)}setVotingSpeed(e){this._isSpectator||e&&this._send("votingSpeed",e)}setMarked(e){this._isSpectator||this._send("marked",e)}clearVoteHistory(){this._isSpectator||this._send("clearVoteHistory")}vote([e]){const t=this._store.state.players.players[e];this._store.state.session.playerId!==t.id&&this._isSpectator||this._send("vote",[e,this._store.state.session.votes[e],!this._isSpectator])}_handleVote([e,t,i]){const{session:s,players:o}=this._store.state,n=o.players.length,r=(e-1+n-s.nomination[1])%n;(i||r>=s.lockedVote-1)&&this._store.commit("session/vote",[e,t])}lockVote(){if(this._isSpectator)return;const{lockedVote:e,votes:t,nomination:i}=this._store.state.session,{players:s}=this._store.state.players,o=(i[1]+e-1)%s.length;this._send("lock",[this._store.state.session.lockedVote,t[o]])}_handleLock([e,t]){if(this._isSpectator&&(this._store.commit("session/lockVote",e),e>1)){const{lockedVote:e,nomination:i}=this._store.state.session,{players:s}=this._store.state.players,o=(i[1]+e-1)%s.length;this._store.state.session.votes[o]!==t&&this._store.commit("session/vote",[o,t])}}swapPlayer(e){this._isSpectator||this._send("swap",e)}swapRole(e){this._isSpectator||this._send("swapRole",e)}movePlayer(e){this._isSpectator||this._send("move",e)}removePlayer(e){this._isSpectator||this._send("remove",e)}}var wt=e=>{const t=new St(e);e.subscribe(({type:e,payload:i},s)=>{switch(e){case"session/setSessionId":s.session.sessionId?t.connect(s.session.sessionId):(window.location.hash="",t.disconnect());break;case"session/claimSeat":t.claimSeat(i);break;case"session/distributeRoles":i&&t.distributeRoles();break;case"session/nomination":case"session/setNomination":t.nomination(i);break;case"session/setVoteInProgress":t.setVoteInProgress(i);break;case"session/voteSync":t.vote(i);break;case"session/lockVote":t.lockVote();break;case"session/setVotingSpeed":t.setVotingSpeed(i);break;case"session/clearVoteHistory":t.clearVoteHistory();break;case"session/setVoteHistoryAllowed":t.setVoteHistoryAllowed();break;case"toggleNight":t.setIsNight();break;case"setEdition":t.sendEdition();break;case"players/setFabled":t.sendFabled();break;case"session/setMarkedPlayer":t.setMarked(i);break;case"players/swap":t.swapPlayer(i);break;case"players/swapRole":t.swapRole(i);break;case"players/move":t.movePlayer(i);break;case"players/remove":t.removePlayer(i);break;case"players/set":case"players/clear":case"players/add":t.sendGamestate("",!0);break;case"players/update":"pronouns"===i.property?t.sendPlayerPronouns(i):t.sendPlayer(i);break}});const i=window.location.hash.substr(1);i&&(e.commit("session/setSpectator",!0),e.commit("session/setSessionId",i),e.commit("toggleGrimoire",!1))};const Rt={name:"",id:"",role:{},reminders:[],isVoteless:!1,isDead:!1,pronouns:""},xt=()=>({players:[],fabled:[],bluffs:[]}),Ct={alive({players:e}){return e.filter(e=>!e.isDead).length},nonTravelers({players:e}){const t=e.filter(e=>"traveler"!==e.role.team);return Math.min(t.length,15)},nightOrder({players:e,fabled:t}){const i=[0],s=[0];e.forEach(({role:e})=>{e.firstNight&&!i.includes(e.firstNight)&&i.push(e.firstNight),e.otherNight&&!s.includes(e.otherNight)&&s.push(e.otherNight)}),t.forEach(e=>{e.firstNight&&!i.includes(e.firstNight)&&i.push(e.firstNight),e.otherNight&&!s.includes(e.otherNight)&&s.push(e.otherNight)}),i.sort((e,t)=>e-t),s.sort((e,t)=>e-t);const o=new Map;return e.forEach(e=>{const t=Math.max(i.indexOf(e.role.firstNight),0),n=Math.max(s.indexOf(e.role.otherNight),0);o.set(e,{first:t,other:n})}),t.forEach(e=>{const t=Math.max(i.indexOf(e.firstNight),0),n=Math.max(s.indexOf(e.otherNight),0);o.set(e,{first:t,other:n})}),o}},qt={randomize({state:e,commit:t}){const i=e.players.map(e=>[Math.random(),e]).sort((e,t)=>e[0]-t[0]).map(e=>e[1]);t("set",i)},clearRoles({state:e,commit:t,rootState:i}){let s;i.session.isSpectator?s=e.players.map(e=>("traveler"!==e.role.team&&(e.role={}),e.reminders=[],e)):(s=e.players.map(({name:e,id:t,pronouns:i})=>({...Rt,name:e,id:t,pronouns:i})),t("setFabled",{fabled:[]})),t("set",s),t("setBluff")}},Mt={clear(e){e.players=[],e.bluffs=[],e.fabled=[]},set(e,t=[]){e.players=t},update(e,{player:t,property:i,value:s}){const o=e.players.indexOf(t);o>=0&&(e.players[o][i]=s)},add(e,t){e.players.push({...Rt,name:t})},remove(e,t){e.players.splice(t,1)},swap(e,[t,i]){[e.players[t],e.players[i]]=[e.players[i],e.players[t]],e.players.splice(0,0)},swapRole(e,[t,i]){[e.players[t].role,e.players[i].role]=[e.players[i].role,e.players[t].role],e.players.splice(0,0)},move(e,[t,i]){e.players.splice(i,0,e.players.splice(t,1)[0])},setBluff(e,{index:t,role:i}={}){void 0!==t?e.bluffs.splice(t,1,i):e.bluffs=[]},setFabled(e,{index:t,fabled:i}={}){void 0!==t?e.fabled.splice(t,1):i&&(Array.isArray(i)?e.fabled=i:e.fabled.push(i))}};var zt={namespaced:!0,state:xt,getters:Ct,actions:qt,mutations:Mt};const It=(e,[t,i])=>{e.nomination&&(e.votes=[...e.votes],e.votes[t]=void 0===i?!e.votes[t]:i)},$t=()=>({sessionId:"",isSpectator:!1,isReconnecting:!1,playerCount:0,ping:0,playerId:"",claimedSeat:-1,nomination:!1,votes:[],lockedVote:0,votingSpeed:3e3,isVoteInProgress:!1,voteHistory:[],markedPlayer:-1,isVoteHistoryAllowed:!0,isRolesDistributed:!1}),Ot={},Pt={},Vt=e=>(t,i)=>{t[e]=i},Dt={setPlayerId:Vt("playerId"),setSpectator:Vt("isSpectator"),setReconnecting:Vt("isReconnecting"),setPlayerCount:Vt("playerCount"),setPing:Vt("ping"),setVotingSpeed:Vt("votingSpeed"),setVoteInProgress:Vt("isVoteInProgress"),setMarkedPlayer:Vt("markedPlayer"),setNomination:Vt("nomination"),setVoteHistoryAllowed:Vt("isVoteHistoryAllowed"),claimSeat:Vt("claimedSeat"),distributeRoles:Vt("isRolesDistributed"),setSessionId(e,t){e.sessionId=t.toLocaleLowerCase().replace(/[^0-9a-z]/g,"").substr(0,10)},nomination(e,{nomination:t,votes:i,votingSpeed:s,lockedVote:o,isVoteInProgress:n}={}){e.nomination=t||!1,e.votes=i||[],e.votingSpeed=s||e.votingSpeed,e.lockedVote=o||0,e.isVoteInProgress=n||!1},addHistory(e,t){if(!e.isVoteHistoryAllowed&&e.isSpectator)return;if(!e.nomination||e.lockedVote<=t.length)return;const i="traveler"===t[e.nomination[1]].role.team;e.voteHistory.push({timestamp:new Date,nominator:t[e.nomination[0]].name,nominee:t[e.nomination[1]].name,type:i?"Exile":"Execution",majority:Math.ceil(t.filter(e=>!e.isDead||i).length/2),votes:t.filter((t,i)=>e.votes[i]).map(({name:e})=>e)})},clearVoteHistory(e){e.voteHistory=[]},vote:It,voteSync:It,lockVote(e,t){e.lockedVote=void 0!==t?t:e.lockedVote+1}};var Tt={namespaced:!0,state:$t,getters:Ot,actions:Pt,mutations:Dt},Lt=i("b1d9"),Et=i("b249"),At=i("c825");a["a"].use(d["a"]);const Ft=(e=ye[0])=>new Map(Lt.filter(t=>t.edition===e.id||e.roles.includes(t.id)).sort((e,t)=>t.team.localeCompare(e.team)).map(e=>[e.id,e])),Ht=(e=ye[0])=>new Map(Lt.filter(t=>"traveler"===t.team&&t.edition!==e.id&&!e.roles.includes(t.id)).map(e=>[e.id,e])),Gt=e=>({grimoire:t},i)=>{t[e]=i},Bt=e=>({grimoire:t},i)=>{t[e]=!0===i||!1===i?i:!t[e]},Ut=e=>e.toLocaleLowerCase().replace(/[^a-z0-9]/g,""),Jt=new Map(ye.map(e=>[e.id,e])),Wt=new Map(Lt.map(e=>[e.id,e])),Zt=new Map(Et.map(e=>[e.id,e]));let Yt={};try{Yt=new Map(At.map(({id:e,hatred:t})=>[Ut(e),new Map(t.map(({id:e,reason:t})=>[Ut(e),t]))]))}catch(ni){console.error("couldn't load jinxes",ni)}const Qt={id:"",name:"",image:"",ability:"",edition:"custom",firstNight:0,firstNightReminder:"",otherNight:0,otherNightReminder:"",reminders:[],remindersGlobal:[],setup:!1,team:"townsfolk",isCustom:!0};var Kt=new d["a"].Store({modules:{players:zt,session:Tt},state:{grimoire:{isNight:!1,isNightOrder:!0,isPublic:!0,isMenuOpen:!1,isStatic:!1,isMuted:!1,isImageOptIn:!1,zoom:0,background:""},modals:{edition:!1,fabled:!1,gameState:!1,nightOrder:!1,reference:!1,reminder:!1,role:!1,roles:!1,voteHistory:!1},edition:Jt.get("tb"),roles:Ft(),otherTravelers:Ht(),fabled:Zt,jinxes:Yt},getters:{customRolesStripped:({roles:e})=>{const t=[],i=Object.keys(Qt),s=["firstNightReminder","otherNightReminder","isCustom"];return e.forEach(e=>{if(e.isCustom){const o={};for(let t in e){if(s.includes(t))continue;const n=e[t];i.includes(t)&&n!==Qt[t]&&(o[i.indexOf(t)]=n)}t.push(o)}else t.push({id:e.id})}),t},rolesJSONbyId:()=>Wt},mutations:{setZoom:Gt("zoom"),setBackground:Gt("background"),toggleMuted:Bt("isMuted"),toggleMenu:Bt("isMenuOpen"),toggleNightOrder:Bt("isNightOrder"),toggleStatic:Bt("isStatic"),toggleNight:Bt("isNight"),toggleGrimoire:Bt("isPublic"),toggleImageOptIn:Bt("isImageOptIn"),toggleModal({modals:e},t){t&&(e[t]=!e[t]);for(let i in e)i!==t&&(e[i]=!1)},setCustomRoles(e,t){const i=t.map(e=>{if(e[0]){const t=Object.keys(Qt),i={};for(let s in e)t[s]&&(i[t[s]]=e[s]);return i}return e}).map(e=>(e.id=Ut(e.id),e)).map(t=>Wt.get(t.id)||e.roles.get(t.id)||Object.assign({},Qt,t)).map(e=>(Wt.get(e.id)||(e.imageAlt={townsfolk:"good",outsider:"outsider",minion:"minion",demon:"evil",fabled:"fabled"}[e.team]||"custom",e.firstNight=Math.abs(e.firstNight),e.otherNight=Math.abs(e.otherNight)),e)).filter(e=>e.name&&e.ability&&e.team).sort((e,t)=>t.team.localeCompare(e.team));e.roles=new Map(i.filter(e=>"fabled"!==e.team).map(e=>[e.id,e])),e.fabled=new Map([...i.filter(e=>"fabled"===e.team).map(e=>[e.id,e]),...Et.map(e=>[e.id,e])]),e.otherTravelers=new Map(Lt.filter(e=>"traveler"===e.team&&!t.some(t=>t.id===e.id)).map(e=>[e.id,e]))},setEdition(e,t){Jt.has(t.id)?(e.edition=Jt.get(t.id),e.roles=Ft(e.edition),e.otherTravelers=Ht(e.edition)):e.edition=t,e.modals.edition=!1}},plugins:[kt.a,wt]});const Xt=["AddressCard","BookOpen","BookDead","BroadcastTower","Chair","CheckSquare","CloudMoon","Cog","Copy","Dice","Dragon","ExchangeAlt","ExclamationTriangle","FileCode","FileUpload","HandPaper","HandPointRight","Heartbeat","Image","Link","MinusCircle","PeopleArrows","PlusCircle","Question","Random","RedoAlt","SearchMinus","SearchPlus","Skull","Square","TheaterMasks","Times","TimesCircle","TrashAlt","Undo","User","UserEdit","UserFriends","Users","VenusMars","VolumeUp","VolumeMute","VoteYea","WindowMaximize","WindowMinimize"],ei=["Github","Discord"];s["c"].add(...Xt.map(e=>n["a"]["fa"+e]),...ei.map(e=>o["a"]["fa"+e])),a["a"].component("font-awesome-icon",r["a"]),a["a"].config.productionTip=!1,a["a"].use(l["a"]);const ti=new l["a"]({formatFallbackMessages:!0});function ii(e){return ti.locale=e,document.querySelector("html").setAttribute("lang",e),e}new a["a"]({render:e=>e(Nt),i18n:ti,store:Kt}).$mount("#app");const si=[];function oi(e){return si.includes(e)?Promise.resolve(ii(e)):i("7f9c")(`./${e}.json`).then(t=>(ti.setLocaleMessage(e,t.default),si.push(e),ii(e)))}oi(navigator.language||navigator.userLanguage),oi("fr")},5720:function(e,t,i){"use strict";i("50d1")},"5a49":function(e,t,i){},"5b44":function(e,t,i){e.exports=i.p+"img/fabled.227b24f9.png"},"5bd9":function(e,t,i){e.exports=i.p+"img/cannibal.54808c1a.png"},"5c0b":function(e,t,i){"use strict";i("9c0c")},"5c56":function(e,t,i){e.exports=i.p+"img/duchess.f8361787.png"},"5c8e":function(e,t,i){e.exports=i.p+"img/goblin.ec4fe0e0.png"},"5cf2":function(e,t,i){e.exports=i.p+"img/x.d2209023.png"},"5e60":function(e,t,i){"use strict";i("b019")},"5f4e":function(e,t,i){e.exports=i.p+"img/tb-minion.b01c557e.png"},"61b0":function(e,t,i){var s={"./acrobat.png":"887b","./amnesiac.png":"043b","./angel.png":"bfe2","./apprentice.png":"4bea","./artist.png":"2cd0","./assassin.png":"9187","./balloonist.png":"65db","./barber.png":"fcc6","./barista.png":"027a","./baron.png":"24d3","./beggar.png":"cfcc","./bishop.png":"8030","./bonecollector.png":"23b1","./boomdandy.png":"aae9","./bountyhunter.png":"899d","./buddhist.png":"1d01","./bureaucrat.png":"25f6","./butcher.png":"37dd","./butler.png":"64fe","./cannibal.png":"5bd9","./cerenovus.png":"0436","./chambermaid.png":"125e","./chef.png":"1e83","./choirboy.png":"d6bc","./clockmaker.png":"f93f","./courtier.png":"ee02","./cultleader.png":"398f","./custom.png":"fd83","./deusexfiasco.png":"9002","./deviant.png":"3b65","./devilsadvocate.png":"cd8b","./djinn.png":"e222","./doomsayer.png":"659f","./dreamer.png":"71b8","./drunk.png":"d97d","./duchess.png":"5c56","./empath.png":"bb7a","./evil.png":"c24f","./eviltwin.png":"e014","./exorcist.png":"5072","./fabled.png":"5b44","./fanggu.png":"6ac0","./farmer.png":"7a7f","./fibbin.png":"6eb1","./fiddler.png":"64be","./fisherman.png":"c5db","./flowergirl.png":"66ae","./fool.png":"4720","./fortuneteller.png":"43e8","./gambler.png":"dce6","./gangster.png":"97c6","./general.png":"ac9c","./goblin.png":"5c8e","./godfather.png":"99d0","./good.png":"667e","./goon.png":"55aa","./gossip.png":"cadc","./grandmother.png":"c9f5","./gunslinger.png":"ee92","./harlot.png":"559e","./hellslibrarian.png":"a367","./heretic.png":"5626","./imp.png":"3e70","./innkeeper.png":"663c","./investigator.png":"b570","./judge.png":"f09b","./juggler.png":"65ab","./king.png":"9639","./klutz.png":"adfc","./legion.png":"da81","./leviathan.png":"2b04","./librarian.png":"4d73","./lilmonsta.png":"c492","./lleech.png":"9f74","./lunatic.png":"0b61","./lycanthrope.png":"c316","./magician.png":"ab3c","./marionette.png":"e69f","./mastermind.png":"f834","./mathematician.png":"8888","./matron.png":"b1cb","./mayor.png":"b223","./mephit.png":"df5e","./mezepheles.png":"c7b7","./minion.png":"75bc","./minstrel.png":"4efd","./monk.png":"6741","./moonchild.png":"3f65","./mutant.png":"17ad","./nodashii.png":"68a4","./oracle.png":"0c12","./outsider.png":"2490","./pacifist.png":"fff1","./philosopher.png":"3603","./pithag.png":"7f07","./pixie.png":"a7b6","./plus.png":"160b","./po.png":"c73a","./poisoner.png":"f282","./politician.png":"07ab","./poppygrower.png":"3273","./preacher.png":"2094","./professor.png":"b30c","./pukka.png":"a6a2","./ravenkeeper.png":"0c59","./recluse.png":"177d","./revolutionary.png":"aa2d","./sage.png":"30b6","./sailor.png":"223c","./saint.png":"6936","./savant.png":"d715","./scapegoat.png":"327a","./scarletwoman.png":"f322","./seamstress.png":"ac7c","./sentinel.png":"af68","./shabaloth.png":"0b29","./slayer.png":"d62b","./snakecharmer.png":"4021","./snitch.png":"b7e8","./soldier.png":"4e76","./spiritofivory.png":"0d06","./spy.png":"ec1e","./stormcatcher.png":"a4c2","./sweetheart.png":"f1e5","./tealady.png":"ba9b","./thief.png":"9ce3","./tinker.png":"9f7e","./towncrier.png":"38a5","./toymaker.png":"39eb","./undertaker.png":"0e20","./vigormortis.png":"f4bd","./virgin.png":"eff4","./vortox.png":"3a43","./voudon.png":"a710","./washerwoman.png":"013f","./widow.png":"22c9","./witch.png":"f558","./x.png":"5cf2","./zombuul.png":"20ca"};function o(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id="61b0"},"634a":function(e){e.exports=JSON.parse('[{"townsfolk":3,"outsider":0,"minion":1,"demon":1},{"townsfolk":3,"outsider":1,"minion":1,"demon":1},{"townsfolk":5,"outsider":0,"minion":1,"demon":1},{"townsfolk":5,"outsider":1,"minion":1,"demon":1},{"townsfolk":5,"outsider":2,"minion":1,"demon":1},{"townsfolk":7,"outsider":0,"minion":2,"demon":1},{"townsfolk":7,"outsider":1,"minion":2,"demon":1},{"townsfolk":7,"outsider":2,"minion":2,"demon":1},{"townsfolk":9,"outsider":0,"minion":3,"demon":1},{"townsfolk":9,"outsider":1,"minion":3,"demon":1},{"townsfolk":9,"outsider":2,"minion":3,"demon":1}]')},"64be":function(e,t,i){e.exports=i.p+"img/fiddler.d1730aaa.png"},"64fe":function(e,t,i){e.exports=i.p+"img/butler.f4fd1640.png"},"659f":function(e,t,i){e.exports=i.p+"img/doomsayer.7ddbe262.png"},"65ab":function(e,t,i){e.exports=i.p+"img/juggler.819f88b8.png"},"65db":function(e,t,i){e.exports=i.p+"img/balloonist.c35c6644.png"},"663c":function(e,t,i){e.exports=i.p+"img/innkeeper.da072f0d.png"},"667e":function(e,t,i){e.exports=i.p+"img/good.daf3b560.png"},"66ae":function(e,t,i){e.exports=i.p+"img/flowergirl.6196eef9.png"},6741:function(e,t,i){e.exports=i.p+"img/monk.ff81aec2.png"},"68a4":function(e,t,i){e.exports=i.p+"img/nodashii.5220cac3.png"},6936:function(e,t,i){e.exports=i.p+"img/saint.b7a15b85.png"},"6ac0":function(e,t,i){e.exports=i.p+"img/fanggu.8fbd2e39.png"},"6b1e":function(e,t,i){},"6b5c":function(e,t,i){"use strict";i("5a49")},"6d13":function(e,t,i){"use strict";i("bce4")},"6eb1":function(e,t,i){e.exports=i.p+"img/fibbin.9f01eb47.png"},"714d":function(e,t,i){},"71b8":function(e,t,i){e.exports=i.p+"img/dreamer.fe5645e1.png"},"73a1":function(e,t,i){e.exports=i.p+"img/tb-outsider.9ae6ef1b.png"},7496:function(e,t,i){e.exports=i.p+"img/bmr.1d06ca78.png"},"74c9":function(e,t,i){"use strict";i("9fd8")},"75bc":function(e,t,i){e.exports=i.p+"img/minion.e02a5c96.png"},7798:function(e,t,i){"use strict";i("bff3")},"79ac":function(e,t,i){},"7a7f":function(e,t,i){e.exports=i.p+"img/farmer.1534709d.png"},"7f07":function(e,t,i){e.exports=i.p+"img/pithag.9bdfc5a3.png"},"7f9c":function(e,t,i){var s={"./en.json":["07a7","chunk-2d0a4d33"],"./fr.json":["834a","chunk-2d0ddbde"]};function o(e){if(!i.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],o=t[0];return i.e(t[1]).then((function(){return i.t(o,3)}))}o.keys=function(){return Object.keys(s)},o.id="7f9c",e.exports=o},8030:function(e,t,i){e.exports=i.p+"img/bishop.1f25f092.png"},8781:function(e,t,i){"use strict";i("6b1e")},"887b":function(e,t,i){e.exports=i.p+"img/acrobat.be49ceac.png"},8888:function(e,t,i){e.exports=i.p+"img/mathematician.cc67c625.png"},"899d":function(e,t,i){e.exports=i.p+"img/bountyhunter.b208dc71.png"},9002:function(e,t,i){e.exports=i.p+"img/deusexfiasco.96e5d2eb.png"},9187:function(e,t,i){e.exports=i.p+"img/assassin.ae0f2fba.png"},9224:function(e){e.exports=JSON.parse('{"a":"2.15.2"}')},9259:function(e,t,i){},"92d8":function(e,t,i){e.exports=i.p+"img/luf.8e16a6e6.png"},9639:function(e,t,i){e.exports=i.p+"img/king.3f722bb8.png"},"97c6":function(e,t,i){e.exports=i.p+"img/gangster.72167674.png"},"98ff":function(e,t,i){"use strict";i("1020")},"99d0":function(e,t,i){e.exports=i.p+"img/godfather.d64b901e.png"},"9c0c":function(e,t,i){},"9ce3":function(e,t,i){e.exports=i.p+"img/thief.04afd5e0.png"},"9f74":function(e,t,i){e.exports=i.p+"img/lleech.da66feee.png"},"9f7e":function(e,t,i){e.exports=i.p+"img/tinker.ce44bde6.png"},"9fd8":function(e,t,i){},"9fe4":function(e,t,i){"use strict";i("055c")},a367:function(e,t,i){e.exports=i.p+"img/hellslibrarian.3df1d423.png"},a3b0:function(e,t,i){e.exports=i.p+"img/tb-demon.0ac8cce6.png"},a4c2:function(e,t,i){e.exports=i.p+"img/stormcatcher.3f5110c6.png"},a5fa:function(e,t,i){"use strict";i("9259")},a6a2:function(e,t,i){e.exports=i.p+"img/pukka.1b1700de.png"},a710:function(e,t,i){e.exports=i.p+"img/voudon.4c0eb80c.png"},a7b6:function(e,t,i){e.exports=i.p+"img/pixie.2db5f1a2.png"},aa2d:function(e,t,i){e.exports=i.p+"img/revolutionary.68827d94.png"},aae9:function(e,t,i){e.exports=i.p+"img/boomdandy.009c74b1.png"},ab3c:function(e,t,i){e.exports=i.p+"img/magician.f076c292.png"},ac7c:function(e,t,i){e.exports=i.p+"img/seamstress.209ed80b.png"},ac9c:function(e,t,i){e.exports=i.p+"img/general.2fc65230.png"},adfc:function(e,t,i){e.exports=i.p+"img/klutz.99df79cb.png"},aeb7:function(e,t,i){},af68:function(e,t,i){e.exports=i.p+"img/sentinel.93d312eb.png"},b019:function(e,t,i){},b1cb:function(e,t,i){e.exports=i.p+"img/matron.6e1551e5.png"},b1d9:function(e){e.exports=JSON.parse('[{"id":"washerwoman","name":"Lavandière","edition":"tb","team":"townsfolk","firstNight":27,"firstNightReminder":"Désigner 2 joueurs et présenter le jeton rôle Villageois de l\'un d\'eux.","otherNight":0,"otherNightReminder":"","reminders":["Villageois","Autre"],"setup":false,"ability":"La première nuit, le Conteur vous désigne 2 joueurs. Il vous donne ensuite le rôle de Villageois de l’un des deux."},{"id":"librarian","name":"Archiviste","edition":"tb","team":"townsfolk","firstNight":28,"firstNightReminder":"Désigner 2 joueurs et présenter le jeton rôle Étranger de l\'un d\'eux.","otherNight":0,"otherNightReminder":"","reminders":["Étranger","Autre"],"setup":false,"ability":"La première nuit, le Conteur vous désigne 2 joueurs. Il vous donne ensuite le rôle d’Étranger de l’un des deux (ou que zéro sont en jeu)."},{"id":"investigator","name":"Enquêteur","edition":"tb","team":"townsfolk","firstNight":29,"firstNightReminder":"Désigner 2 joueurs et présenter le jeton rôle Sbire de l\'un d\'eux.","otherNight":0,"otherNightReminder":"","reminders":["Sbire","Autre"],"setup":false,"ability":"La première nuit, le Conteur vous désigne 2 joueurs. Il vous donne ensuite le rôle de Sbire de l’un des deux."},{"id":"chef","name":"Cuistot","edition":"tb","team":"townsfolk","firstNight":30,"firstNightReminder":"Donner le nombre de paires de joueurs maléfiques assis côte à côte. Forte suggestion : inclure le Reclus et exclure l\'Espion.","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"La première nuit, le Conteur vous indique combien il y a de joueurs maléfiques assis côte à côte dans la partie."},{"id":"empath","name":"Empathique","edition":"tb","team":"townsfolk","firstNight":31,"firstNightReminder":"Montrer le nombre de ses voisins vivants et maléfique. Forte suggestion : inclure le Reclus et exclure l\'Espion.","otherNight":48,"otherNightReminder":"Montrer le nombre de ses voisins vivants et maléfique. Forte suggestion : inclure le Reclus et exclure l\'Espion.","reminders":[],"setup":false,"ability":"Chaque nuit, vous apprenez combien de vos voisins survivants sont maléfiques."},{"id":"fortuneteller","name":"Voyante","edition":"tb","team":"townsfolk","firstNight":32,"firstNightReminder":"Elle pointe deux joueurs. Si l\'un d’eux est un Démon ou son faux positif, hocher la tête, sinon, secouez la tête.","otherNight":49,"otherNightReminder":"Elle pointe deux joueurs. Si l\'un d’eux est un Démon ou son faux positif, hocher la tête, sinon, secouez la tête.","reminders":["Faux positif"],"setup":false,"ability":"Chaque nuit, choisissez 2 joueurs : vous apprenez si l’un d’eux est un Démon. Un des joueurs « Bon » est votre faux positif."},{"id":"undertaker","name":"Croque-mort","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":51,"otherNightReminder":"Si un joueur est mort par exécution aujourd\'hui, montrer lui le jeton rôle de ce joueur.","reminders":["Exécuté"],"setup":false,"ability":"Chaque nuit*, vous apprenez quel est le rôle du joueur qui vient d’être exécuté."},{"id":"monk","name":"Moine","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":12,"otherNightReminder":"Choisit un autre joueur qui sera protégé (mort) du démon cette nuit, mais pas contre d\'autres effets nocifs","reminders":["Protégé"],"setup":false,"ability":"Chaque nuit*, choisissez un autre joueur: il est à l\'abri du Démon cette nuit."},{"id":"ravenkeeper","name":"Gardien","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":39,"otherNightReminder":"S’il meurt cette nuit, réveillez-le. Il pointe un joueur de son choix. Montrer lui le jeton rôle de ce joueur.","reminders":[],"setup":false,"ability":"Si vous mourez pendant la nuit, vous choisissez un joueur et apprenez son rôle."},{"id":"mayor","name":"Maire","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Si aucune exécution n\'a lieu alors qu’il ne reste que 3 joueurs vivants (dont vous), victoire du village ! Si vous deviez mourir pendant la nuit, un autre joueur pourrait mourir à votre place."},{"id":"slayer","name":"Mercenaire","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Inactif"],"setup":false,"ability":"Une fois par partie, pendant la journée, choisissez publiquement un joueur : si c’est un Démon, il meurt."},{"id":"soldier","name":"Soldat","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Vous êtes à l\'abri du démon."},{"id":"virgin","name":"Pucelle","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Inactif"],"setup":false,"ability":"La première fois que vous êtes mise en nomination, si le proposant est un Villageois, il est exécuté immédiatement."},{"id":"butler","name":"Majordome","edition":"tb","team":"outsider","firstNight":33,"firstNightReminder":"Choisit un joueur qui sera son prochain maître.","otherNight":50,"otherNightReminder":"Choisit un joueur qui sera son prochain maître.","reminders":["Maitre"],"setup":false,"ability":"Chaque nuit, choisissez un autre joueur qui devient vôtre maître. Demain, vous ne pourrez voter que lorsque votre maître votera."},{"id":"drunk","name":"Soulard","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"remindersGlobal":["Soulard"],"setup":true,"ability":"Vous ne savez pas que vous êtes ivre. Vous pensez que vous êtes un Villageois, mais vous ne l’êtes pas."},{"id":"recluse","name":"Reclus","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Vous êtes généralement reconnu comme étant maléfique (Sbire ou Démon), même si vous êtes mort."},{"id":"saint","name":"Vertueux","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Si vous mourez par exécution, vous et le village perdez."},{"id":"baron","name":"Baron","edition":"tb","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":true,"ability":"Il y a des Étrangers supplémentaires en jeu [+2 Étrangers]."},{"id":"poisoner","name":"Empoisonneur","edition":"tb","team":"minion","firstNight":15,"firstNightReminder":"Choisit un joueur qui sera empoisonné (nuit et jour suivant)","otherNight":7,"otherNightReminder":"Le joueur précédemment empoisonné ne l\'est plus. Choisit un joueur qui sera empoisonné (nuit et jour suivant).","reminders":["Empoisonné"],"setup":false,"ability":"Chaque nuit, choisissez un joueur: il est empoisonné cette nuit ainsi que le jour suivant."},{"id":"spy","name":"Espion","edition":"tb","team":"minion","firstNight":41,"firstNightReminder":"Se réveille et peut regarder le grimoire.","otherNight":62,"otherNightReminder":"Se réveille et peut regarder le grimoire.","reminders":[],"setup":false,"ability":"Chaque nuit, vous voyez le grimoire. Vous êtes généralement reconnu comme étant « Bon » (Villageois ou Étranger), même si vous êtes mort."},{"id":"scarletwoman","name":"Croqueuse d\'homme","edition":"tb","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":18,"otherNightReminder":"Si 5 joueurs vivants ou + (voyageurs exclus) et Démon meurt par exécution, elle remplacera le Démon, la réveiller et lui indiquer.","reminders":["Démon"],"setup":false,"ability":"S\'il y a 5 joueurs vivants ou plus (voyageurs exclus) et que le Démon meurt, vous devenez le nouveau Démon."},{"id":"imp","name":"Imp","edition":"tb","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":22,"otherNightReminder":"Choisit un joueur qui est aussitôt assassiné. S’il se choisit, réveiller un Sbire vivant qui devient le nouveau Démon.","reminders":["Assassiné"],"setup":false,"ability":"Chaque nuit*, choisissez un joueur : il meurt. Si vous vous choisissez, vous mourez et un Sbire vivant devient l’Imp."},{"id":"scapegoat","edition":"tb","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Bouc Émissaire","team":"traveler","ability":"Si un joueur de votre alignement est exécuté, vous pourriez être exécuté à sa place."},{"id":"gunslinger","edition":"tb","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Vengeur","team":"traveler","ability":"Chaque jour, après le décompte de la première nomination, vous pouvez choisir un joueur qui a voté: il meurt."},{"id":"beggar","edition":"tb","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Mendiant","team":"traveler","ability":"Vous ne pouvez voter que si vous disposez d\'un jeton de vote. Pendant la journée, un joueur mort peut vous donner son jeton. Si cela se produit, vous apprenez son alignement."},{"id":"bureaucrat","edition":"tb","firstNight":1,"firstNightReminder":"Choisit un autre joueur (lui assigner le jeton « Vote 3x ») qui aura trois votes le jour suivant.","otherNight":1,"otherNightReminder":"Choisit un autre joueur (lui assigner le jeton « Vote 3x ») qui aura trois votes le jour suivant.","reminders":["Vote x3"],"setup":false,"name":"Bureaucrate","team":"traveler","ability":"Chaque nuit, choisissez un autre joueur: son vote comptera pour 3 votes le jour suivant."},{"id":"thief","edition":"tb","firstNight":1,"firstNightReminder":"Choisit un autre joueur (lui assigner le jeton « Vote négatif ») qui aura un vote négatif le jour suivant.","otherNight":1,"otherNightReminder":"Choisit un autre joueur (lui assigner le jeton « Vote négatif ») qui aura un vote négatif le jour suivant.","reminders":["Vote négatif"],"setup":false,"name":"Voleur","team":"traveler","ability":"Chaque nuit, choisissez un autre joueur: son vote compte négativement le jour suivant."},{"id":"grandmother","edition":"bmr","team":"townsfolk","firstNight":34,"firstNightReminder":"Pointer sa descendance et montrer le rôle de celui-ci.","otherNight":47,"otherNightReminder":"Si sa descendance a été tué par le démon cette nuit: La Mamie meurt.","reminders":["Descendance"],"setup":false,"ability":"La première nuit, le Conteur vous indique votre descendance et son rôle « bon ». Si elle est tuée par le Démon, vous mourrez également.","name":"Mamie"},{"id":"sailor","edition":"bmr","firstNight":9,"firstNightReminder":"Il choisit 1 joueur vivant : un des deux est ivre jusqu’au crépuscule** (nuit et jour suivant). Le marin sobre ne peut pas mourir.","otherNight":4,"otherNightReminder":"Il choisit 1 joueur vivant : un des deux est ivre jusqu’au crépuscule** (nuit et jour suivant). Le marin sobre ne peut pas mourir.","reminders":["Ivre","Marin Protégé"],"setup":false,"name":"Marin","team":"townsfolk","ability":"Chaque nuit, choisissez un joueur vivant : un de vous est ivre jusqu’au crépuscule**. Si vous êtes sobre, vous ne pouvez pas mourir."},{"id":"chambermaid","edition":"bmr","team":"townsfolk","firstNight":44,"firstNightReminder":"Elle pointe 2 autres joueurs vivants: indiquer combien d’entre eux se sont réveillés en raison de leur capacité cette nuit.","otherNight":65,"otherNightReminder":"Elle pointe 2 autres joueurs vivants: indiquer combien d’entre eux se sont réveillés en raison de leur capacité cette nuit.","reminders":[],"setup":false,"name":"Femme de chambre","ability":"Chaque nuit, choisissez 2 autres joueurs vivants : vous apprenez combien d’entre eux se sont réveillés en raison de leur capacité cette nuit."},{"id":"exorcist","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":20,"otherNightReminder":"Choisit un joueur, si c’est le Démon, celui-ci n’agira pas cette nuit. Réveiller le Démon, montrez-lui la carte verte « Ce rôle vous a sélectionné », puis le jeton de rôle Exorciste et pointer le joueur.","reminders":["Sélectionné"],"setup":false,"name":"Exorciste","team":"townsfolk","ability":"Chaque nuit*, choisissez un joueur (différent de la nuit précédente), si c’est un Démon, il n’agira pas cette nuit et il saura qui vous êtes."},{"id":"innkeeper","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":8,"otherNightReminder":"Désigne 2 joueurs. Ceux-ci sont protégés cette nuit, mais l\'un d’eux est ivre jusqu’au crépuscule**.","reminders":["Protégé Nuit","Ivre"],"setup":false,"name":"Aubergiste","team":"townsfolk","ability":"Chaque nuit*, choisissez 2 joueurs: ils ne peuvent pas mourir cette nuit, mais l’un d’entre eux est ivre jusqu’au crépuscule**."},{"id":"gambler","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":10,"otherNightReminder":"Choisit un joueur et tente de deviner son rôle puis s’endors. S’il fait erreur, il meurt, ajouter le jeton Mort.","reminders":["Mort"],"setup":false,"name":"Parieur","team":"townsfolk","ability":"Chaque nuit*, choisissez un joueur et tenter de deviner son rôle, si vous faites erreur, vous mourrez."},{"id":"gossip","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":44,"otherNightReminder":"Si la déclaration était vraie, n’importe lequel des joueurs (non protégé) meurt cette nuit, souvent la Commère est la victime.","reminders":["Mort"],"setup":false,"name":"Commère","team":"townsfolk","ability":"Chaque jour, vous pouvez faire publiquement une déclaration de votre choix. Si elle est vraie, un joueur mourra cette nuit."},{"id":"courtier","edition":"bmr","team":"townsfolk","firstNight":17,"firstNightReminder":"La Courtisanne décide si elle utilise sa capacité. Une fois par partie, elle choisit un rôle, il sera ivre pour trois nuits et trois jours.","otherNight":9,"otherNightReminder":"Réduisez le nombre de jours restants pendant lesquels le joueur marqué est ivre. Si la Courtisanne n\'a pas encore utilisé sa capacité elle décide si elle l\'utilise. Une fois par partie, elle choisit un rôle, il sera ivre pour 3 nuits et 3 jours.","reminders":["Ivre J1","Ivre J2","Ivre J3","Inactif"],"setup":false,"name":"Courtisane","ability":"Une fois par partie, pendant la nuit, choisissez un autre rôle. S’il est en jeu, il sera ivre pour trois nuits et trois jours."},{"id":"professor","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":42,"otherNightReminder":"Une fois par partie, s’ii n\'a pas utilisé sa capacité, il indique s\'il ne veut pas l\'utiliser ou pointe un joueur mort. Si ce joueur mort est un Villageois, il est ressuscité.","reminders":["Vivant","Inactif"],"setup":false,"name":"Professeur","team":"townsfolk","ability":"Une fois par partie, pendant la nuit*, choisissez un joueur mort: s\'il s\'agit d\'un Villageois, il sera ressuscité."},{"id":"minstrel","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"Si un Sbire est exécuté aujourd\'hui: tous les autre joueurs (à l\'exception du Ménestrel et des voyageurs) sont ivres. Placez le marqueur Tous Ivre.","reminders":["Tous Ivres"],"setup":false,"name":"Ménestrel","team":"townsfolk","ability":"Si un Sbire est exécuté aujourd\'hui, tous les autres joueurs tous les joueurs (à l\'exception du Ménestrel et des voyageurs) sont ivres jusqu’au prochain crépuscule**."},{"id":"tealady","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Protégé"],"setup":false,"name":"Herboriste","team":"townsfolk","ability":"Si vos deux voisins vivants sont « bons », ils ne peuvent pas mourir."},{"id":"pacifist","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Pacifiste","team":"townsfolk","ability":"Les joueurs « bons » exécutés peuvent, possiblement, survivre à l’exécution."},{"id":"fool","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Inactif"],"setup":false,"name":"Fou","team":"townsfolk","ability":"La première fois que vous mourrez, vous restez en vie."},{"id":"tinker","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":45,"reminders":["Mort"],"setup":false,"name":"Inventeur","team":"outsider","ability":"Vous pouvez mourir... à tout moment."},{"id":"moonchild","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":46,"otherNightReminder":"Si le joueur sélectionné est « bon », il meurt.","reminders":["Mort"],"setup":false,"name":"Gitane","team":"outsider","ability":"Lorsque vous apprenez votre mort, choisissez publiquement un autre joueur vivant: s\'il est « bon », il mourra cette nuit."},{"id":"goon","edition":"bmr","firstNight":0,"firstNightReminder":"Le premier joueur qui a utilisé sa capacité sur la Brute ne fonctionne pas, ajouter le jeton ivre à ce joueur. Il change d’alignement pour ce joueur. Si c’est le cas: Le réveiller et montrez-lui la carte violette « Vous êtes », puis un signal de la main (pouce vers le haut « bon », pouce vers le bas maléfique) pour son nouvel alignement.","otherNight":0,"otherNightReminder":"Le premier joueur qui a utilisé sa capacité sur la Brute ne fonctionne pas, ajouter le jeton ivre à ce joueur. Il change d’alignement pour ce joueur. Si c’est le cas: Le réveiller et montrez-lui la carte violette « Vous êtes », puis un signal de la main (pouce vers le haut « bon », pouce vers le bas maléfique) pour son nouvel alignement.","reminders":["Ivre"],"setup":false,"name":"Brute","team":"outsider","ability":"La capacité du 1er rôle qui vous vise ou vous affecte ne fonctionne pas. Celui-ci devient ivre jusqu’au crépuscule** et vous changez pour son alignement."},{"id":"lunatic","edition":"bmr","firstNight":6,"firstNightReminder":"Si 7 joueurs ou plus: Montrez au Lunatique un nombre arbitraire de Sbires. Présenter 3 rôles qui ne sont pas en jeu. Si le jeton Démon reçu par le Lunatique se réveillerait cette nuit: Permettez au Lunatique de faire les actions du Démon. Placez les jetons. Réveillez le Démon. Montrez les jetons attaque, puis pointez sur chaque joueur marqué. Retirez tous les jetons attaque.","otherNight":19,"otherNightReminder":"Permettez au Lunatique de faire les actions du Démon. Placez les jetons. Réveillez le Démon. Montrez les jetons attaque, puis pointez sur chaque joueur marqué. Retirez tous les jetons attaque.","reminders":["Attaque 1","Attaque 2","Attaque 3","Autre"],"setup":false,"name":"Lunatique","team":"outsider","ability":"Vous pensez que vous êtes un Démon, mais vous ne l’êtes pas. Le Démon sait qui vous êtes et qui vous avez attaqué."},{"id":"godfather","edition":"bmr","team":"minion","firstNight":19,"firstNightReminder":"Indiquer les rôle d\'Étrangers sont en jeu [+/-1 Étrangers].","otherNight":35,"otherNightReminder":"Si un Étranger a été exécuté aujourd\'hui, le Parrain choisit un joueur qui meurt.","reminders":["Mort Aujourd\'hui","Mort"],"setup":true,"name":"Parrain","ability":"Vous commencez en sachant quels Étrangers sont en jeu. Si l’un d’entre eux est exécuté aujourd\'hui, vous assassinez un joueur de votre choix cette nuit [+1 / -1 Étranger]."},{"id":"devilsadvocate","edition":"bmr","team":"minion","firstNight":20,"firstNightReminder":"Il pointe vers un joueur vivant. Ce joueur survivra à l\'exécution demain.","otherNight":13,"otherNightReminder":"Il pointe vers un joueur vivant différent de la nuit précédente. Ce joueur survivra à l\'exécution demain.","reminders":["Survit à l\'exécution"],"setup":false,"name":"Avocat du diable","ability":"Chaque nuit, choisissez un joueur vivant (différent de la nuit précédente ni le Zombuul mort): s\'il est exécuté demain, il ne mourra pas."},{"id":"assassin","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":34,"otherNightReminder":"Si l\'Assassin n\'a pas encore utilisé sa capacité il décide s’il l\'utilise. Si oui, il désigne un joueur. Ce joueur meurt (sans restriction).","reminders":["Mort","Inactif"],"setup":false,"name":"Assassin","team":"minion","ability":"Une fois par partie, pendant la nuit*, choisissez un joueur: il meurt, même si pour une raison quelconque, il ne le pourrait pas."},{"id":"mastermind","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Conspirateur","team":"minion","ability":"Si le Démon meurt par exécution, jouez encore une journée. Si un joueur « bon » est exécuté, lui et le village perdent."},{"id":"zombuul","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":23,"otherNightReminder":"Si personne n’est mort aujourd\'hui, choisit un joueur, il meurt.","reminders":["Aucun Mort","Assassiné"],"setup":false,"name":"Zombuul","team":"demon","ability":"Chaque nuit*, si personne n’est mort aujourd\'hui, choisissez un joueur: il meurt. La première fois que vous mourez, vous restez en vie."},{"id":"pukka","edition":"bmr","team":"demon","firstNight":25,"firstNightReminder":"The Pukka points to a player. That player is poisoned.","otherNight":24,"otherNightReminder":"Le précédent joueur empoisonné meurt. Il pointe un joueur. Ce joueur est empoisonné.","reminders":["Empoisonné","Mort"],"setup":false,"name":"Pooka","ability":"Chaque nuit, choisissez un joueur: il est empoisonné jusqu\'à la nuit prochaine, puis il meurt et devient sain."},{"id":"shabaloth","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":25,"otherNightReminder":"Un joueur qui a été dévoré la nuit précédente pourrait revenir à la vie. Désigne deux joueurs. Ces joueurs meurent.","reminders":["Dévoré 1","Dévoré 2","Vivant"],"setup":false,"name":"Shabaloth","team":"demon","ability":"Chaque nuit*, choisissez deux joueurs: ils sont dévorés. Un de ceux-ci pourrait être régurgité la nuit suivante (même s\'il était déjà mort)."},{"id":"po","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":26,"otherNightReminder":"S’il n\'a choisi personne la nuit précédente, désigne 3 joueurs. Sinon, décide s’il ne fait rien ou pointe un joueur. Le/les joueur(s) meurt(ent).","reminders":["Assassiné 1","Assassiné 2","Assassiné 3","Attaque x3"],"setup":false,"name":"Po","team":"demon","ability":"Chaque nuit*, vous pouvez choisir un joueur et il meurt. Si votre dernier choix n\'était personne, choisissez trois joueurs qui mourront cette nuit."},{"id":"apprentice","edition":"bmr","firstNight":1,"firstNightReminder":"Montrez-lui la carte violette « Vous êtes », puis un jeton Villageois ou Sbire.","otherNight":0,"otherNightReminder":"","reminders":["Apprenti"],"setup":false,"name":"Apprenti","team":"traveler","ability":"Votre première nuit, vous gagnez une capacité de Villageois si « bon » ou de Sbire si maléfique."},{"id":"matron","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Matrone","team":"traveler","ability":"Les joueurs ne peuvent pas quitter leur siège pour parler en privé. Une fois par jour, vous pouvez demander à deux joueurs de changer de place."},{"id":"voudon","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Nécromant","team":"traveler","ability":"Seuls vous et les morts peuvent voter. Pas besoin de jeton, ni d\'une majorité de minimum 50%."},{"id":"judge","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Inactif"],"setup":false,"name":"Magistrat","team":"traveler","ability":"Une fois par partie, si un joueur est nommé, vous pouvez choisir de forcer ou d’annuler l\'exécution."},{"id":"bishop","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Nommée Bon","Nommée Maléfique"],"setup":false,"name":"Archevêque","team":"traveler","ability":"Seul le conteur peut nommer. Un joueur d\'alignement opposé à l’Archevêque devra être nominé chaque jour."},{"id":"clockmaker","edition":"snv","team":"townsfolk","firstNight":35,"firstNightReminder":"Indiquer à quelle distance (nombre de places, minimum une) se trouve le Sbire le plus prêt du Démon.","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Horloger","ability":"La première nuit, le Conteur vous indique à quelle distance (nombre de place, minimum une) se trouve le Sbire le plus prêt du Démon."},{"id":"dreamer","edition":"snv","team":"townsfolk","firstNight":36,"firstNightReminder":"Il pointe vers un joueur. Montrez deux jetons de rôle, l\'un est le rôle de ce joueur, l\'autre est d\'alignement opposé.","otherNight":52,"otherNightReminder":"Il pointe vers un joueur. Montrez deux jetons de rôle, l\'un est le rôle de ce joueur, l\'autre est d\'alignement opposé.","reminders":[],"setup":false,"ability":"Chaque nuit, choisissez un autre joueur (pas un Voyageur), vous apprendrez son rôle et un rôle d\'alignement opposé.","name":"Rêveur"},{"id":"snakecharmer","edition":"snv","team":"townsfolk","firstNight":18,"firstNightReminder":"Il pointe un joueur. Si ce joueur est le Démon: Échangez leurs jetons rôle. Lui Indiquer qu\'il est le nouveau Démon. Montrez-lui la carte violette « Vous êtes » et le jeton Démon. Réveillez l\'ancien Démon et montrez-lui la carte violette « Vous êtes », le jeton Charmeur de serpent et un pouce vers le haut et il est maintenant empoisonné.","otherNight":11,"otherNightReminder":"Il pointe un joueur. Si ce joueur est le Démon: Échangez leurs jetons rôle. Lui Indiquer qu\'il est le nouveau Démon. Montrez-lui la carte violette « Vous êtes » et le jeton Démon. Réveillez l\'ancien Démon et montrez-lui la carte violette « Vous êtes », le jeton Charmeur de serpent et un pouce vers le haut et il est maintenant empoisonné.","reminders":["Empoisonné"],"setup":false,"name":"Charmeur de serpent","ability":"Chaque nuit, choisissez un joueur vivant. Si vous avez choisi un Démon, vous échangez de rôle avec lui et il devient empoisonné."},{"id":"mathematician","edition":"snv","team":"townsfolk","firstNight":43,"firstNightReminder":"Lui indiquer combien de capacités des autres joueurs n’ont pas fonctionnés aujourd\'hui et cette nuit. Retirer les jetons “Effet anormal”.","otherNight":64,"otherNightReminder":"Lui indiquer combien de capacités des autres joueurs n’ont pas fonctionnés aujourd\'hui et cette nuit. Retirer les jetons “Effet anormal”.","reminders":["Effet Anormal"],"setup":false,"name":"Mathématicien","ability":"Chaque nuit, vous apprenez combien de capacités des autres joueurs n’ont pas fonctionné depuis l’Aube***."},{"id":"flowergirl","edition":"snv","firstNight":0,"firstNightReminder":"Placez le jeton “Aucun vote”.","otherNight":53,"otherNightReminder":"Indiquer d\'un signal de tête (hocher oui, secouer non) pour indiquer si le Démon a voté aujourd\'hui. Remplacer le jeton “Vote” par le “Aucun vote” (le cas échéant).","reminders":["Démon Vote","Aucun Vote"],"setup":false,"name":"Fleuriste","team":"townsfolk","ability":"Chaque nuit*, vous apprenez si le démon a voté."},{"id":"towncrier","edition":"snv","firstNight":0,"firstNightReminder":"Placez le jeton “Aucune nomination”.","otherNight":54,"otherNightReminder":"Indiquer d\'un signal de tête (hocher oui, secouer non) pour indiquer si un Sbire a nommé aujourd\'hui. Remplacer le jeton “Nomination” par le “Aucune nomination” (le cas échéant).","reminders":["Aucune nomination","Sbire Nomination"],"setup":false,"name":"Crieur","team":"townsfolk","ability":"Chaque nuit*, vous apprenez si un Sbire a nommé."},{"id":"oracle","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":55,"otherNightReminder":"Indiquer combien de joueurs morts, en tout, sont maléfiques.","reminders":[],"setup":false,"name":"Oracle","team":"townsfolk","ability":"Chaque nuit*, vous apprenez combien de joueurs morts sont maléfiques."},{"id":"savant","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Savant","team":"townsfolk","ability":"Chaque jour, visitez le Conteur pour apprendre: une vérité et un mensonge."},{"id":"seamstress","edition":"snv","team":"townsfolk","firstNight":37,"firstNightReminder":"Elle décide si elle utilise sa capacité. Si oui, elle pointe deux joueurs et lui indiquer s\'ils sont du même alignement.","otherNight":56,"otherNightReminder":"Si elle n\'a pas encore utilisé sa capacité: elle décide si elle utilise sa capacité. Si oui, elle pointe deux joueurs et lui indiquer s\'ils sont du même alignement.","reminders":["Inactif"],"setup":false,"name":"Couturière","ability":"Une fois par partie, pendant la nuit, choisissez deux autres joueurs. Vous apprendrez s\'ils sont du même alignement."},{"id":"philosopher","edition":"snv","firstNight":2,"firstNightReminder":"Il décide s’il utilise sa capacité. Si oui, il indique un rôle « bon » sur sa feuille. Il gagne cette capacité. Si le rôle était déjà en jeu, ce joueur devient ivre et le Faussaire est maintenant son rôle.","otherNight":2,"otherNightReminder":"S’il n\'a pas encore utilisé sa capacité: il décide s’il utilise sa capacité. Si oui, il indique un rôle « bon » sur sa feuille. Il gagne cette capacité. Si le rôle était déjà en jeu, ce joueur devient ivre et le Faussaire est maintenant son rôle.","reminders":["Faussaire","Ivre"],"setup":false,"name":"Faussaire","team":"townsfolk","ability":"Une fois par partie, pendant la nuit, choisissez un rôle « bon » et gagnez cette capacité. Si ce rôle est déjà en jeu, ce joueur devient ivre."},{"id":"artist","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Inactif"],"setup":false,"name":"Artiste","team":"townsfolk","ability":"Une fois par partie, pendant la journée, posez une question en privé au Conteur pour recevoir une réponse affirmative ou négative."},{"id":"juggler","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":57,"otherNightReminder":"La première journée du Jongleur : Indiquer le nombre combinaison joueur- rôles réussi. Retirez les jetons.","reminders":["Correct"],"setup":false,"name":"Jongleur","team":"townsfolk","ability":"Votre première journée, devinez publiquement jusqu\'à 5 combinaisons joueur-rôle. La nuit suivante, vous apprendrez combien étaient correctes."},{"id":"sage","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":40,"otherNightReminder":"S’il a été tué par le Démon, pointez deux joueurs (dont le Démon).","reminders":[],"setup":false,"name":"Sage","team":"townsfolk","ability":"Si le Démon vous tue, vous apprenez de qui il s\'agit entre deux joueurs."},{"id":"mutant","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Bête de foire","team":"outsider","ability":"Vous êtes Dément : Ne révélez pas votre vraie nature (Étranger ou Bête de foire), d’aucune façon, sinon c’est possiblement l’exécution."},{"id":"sweetheart","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":38,"otherNightReminder":"Choisissez un joueur. Il devient ivre.","reminders":["Ivre"],"setup":false,"name":"Dulcinée","team":"outsider","ability":"Si vous mourez, un autre joueur devient ivre à partir de maintenant."},{"id":"barber","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":37,"otherNightReminder":"S’il est mort aujourd\'hui réveillez le Démon. Montrez la carte verte « Ce rôle vous a sélectionné » et le jeton Barbier. Le Démon indique « non » ou pointe 2 joueurs. S\'il choisit deux joueurs: Échangez leurs jetons rôle. Réveillez chaque joueur, montrez la carte violette « Vous êtes » et leur nouveau jeton de rôle.","reminders":["Échange"],"setup":false,"name":"Barbier","team":"outsider","ability":"Si vous mourez aujourd’hui ou cette nuit, le Démon peut choisir deux joueurs (pas un autre Démon) pour échanger leurs rôles entre eux cette nuit, sans pour autant changer leur alignement."},{"id":"klutz","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Maladroit","team":"outsider","ability":"Lorsque vous apprenez que vous êtes mort, choisissez publiquement un joueur vivant: s\'il est maléfique, votre équipe perd."},{"id":"eviltwin","edition":"snv","team":"minion","firstNight":21,"firstNightReminder":"Réveillez le Jumeau Maléfique et son jumeau. Confirmez qu\'ils se sont reconnus. Pointez le Jumeau Maléfique et montrez son jeton rôle au joueur jumeau. Pointer le jumeau et montrez son jeton rôle au joueur Jumeau Maléfique.","otherNight":0,"otherNightReminder":"","reminders":["Jumeau"],"setup":false,"name":"Jumeau Maléfique","ability":"Vous et un joueur bon (votre jumeau) vous vous connaissez. Si votre jumeau est exécuté, le mal gagne. Les bons ne peuvent pas gagner si vous êtes les deux en vie (même si le Démon est mort)."},{"id":"witch","edition":"snv","team":"minion","firstNight":22,"firstNightReminder":"Elle désigne un joueur. Ce joueur est maudit pour le lendemain.","otherNight":14,"otherNightReminder":"Elle désigne un joueur. Ce joueur est maudit pour le lendemain.","reminders":["Maudit"],"setup":false,"name":"Sorcière","ability":"Chaque nuit, choisissez un joueur: s\'il fait une nomination le jour suivant, il meurt aussitôt. Si seulement 3 joueurs sont vivants, votre capacité est inactive."},{"id":"cerenovus","edition":"snv","team":"minion","firstNightReminder":"Il pointe un joueur et un rôle sur sa feuille. Ce joueur devient Dément et est obligé d’être ce rôle le jour suivant. Réveillez ce joueur. Montrez la carte verte « Ce rôle vous a sélectionné », puis le jeton Manipulateur. Montrez le jeton Dément, puis le jeton de rôle.","otherNight":15,"otherNightReminder":"Il pointe un joueur et un rôle sur sa feuille. Ce joueur devient Dément et est obligé d’être ce rôle le jour suivant. Réveillez ce joueur. Montrez la carte verte « Ce rôle vous a sélectionné », puis le jeton Manipulateur. Montrez le jeton Dément, puis le jeton de rôle.","reminders":["Dément"],"setup":false,"name":"Manipulateur","ability":"Chaque nuit, choisissez un joueur et un rôle « bon » de la partie : il est Dément d’être publiquement ce rôle le jour suivant ou pourrait être exécuté."},{"id":"pithag","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":16,"otherNightReminder":"Elle pointe un joueur et un rôle sur sa feuille. Si le rôle n\'est pas en jeu: Remplacez le jeton de rôle de ce joueur par le rôle choisi. Réveillez ce joueur et montrez la carte violette « Vous êtes », puis le nouveau rôle et faire signe de la main pour indiquer aucun changement d\'alignement.","reminders":[],"setup":false,"name":"Vieille Chouette","team":"minion","ability":"Chaque nuit*, choisissez un joueur et un rôle qu\'il devient (s\'il n\'est pas en jeu) sans changer d’alignement. Si un Démon est créé, les morts de cette nuit seront laissés au choix du Conteur."},{"id":"fanggu","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":27,"otherNightReminder":"Il pointe un joueur: il meurt, sauf s’il est le premier Étranger. Si c’est le cas, tuez le Démon (sans lui indiquer). Réveillez ce premier Étranger, montrez-lui la carte violette « Vous êtes » et le jeton du Démon. Lui faire signe de la main pour indiquer son nouvel alignement maléfique.","reminders":["Assassiné"],"setup":true,"name":"Fang Gu","team":"demon","ability":"Chaque nuit*, choisissez un joueur: il meurt, sauf s’il est un Étranger. Le 1er Étranger vous tue et devient le 2e Fang Gu en jeu [+1 Étranger]."},{"id":"vigormortis","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":30,"otherNightReminder":"Il pointe un joueur: il meurt. Un Sbire tué garde sa capacité et un de ses voisins Villageois (mort ou vif) est empoisonné.","reminders":["Assassiné","Empoisonné","Capacité Active"],"setup":true,"name":"Vigormortis","team":"demon","ability":"Chaque nuit*, choisissez un joueur: il meurt. Les Sbires que vous tuez gardent leur capacité et un de ses voisins Villageois (mort ou vif) est empoisonné. [-1 Étranger]."},{"id":"nodashii","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":28,"otherNightReminder":"Il pointe un joueur: il meurt","reminders":["Assassiné","Empoisonné"],"setup":false,"name":"No Dashii","team":"demon","ability":"Chaque nuit*, choisissez un joueur: il meurt. Vos deux voisins Villageois (morts ou vifs) qui vous entourent sont empoisonnés."},{"id":"vortox","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":29,"otherNightReminder":"Il pointe un joueur: il meurt. Si personne n\'est exécuté à chaque jour, les maléfiques l\'emportent.","reminders":["Assassiné"],"setup":false,"name":"Vortox","team":"demon","ability":"Chaque nuit*, choisissez un joueur; il meurt. Les bonnes capacités produisent de fausses informations. Si pas d’exécution, le mal l\'emporte."},{"id":"butcher","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Boucher","team":"traveler","ability":"Chaque jour, après la 1ère exécution, vous devez faire une nouvelle nomination."},{"id":"bonecollector","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":1,"otherNightReminder":"Il secoue la tête ou désigne un joueur mort. Ce joueur retrouve ses capacités jusqu\'au crépuscule.","reminders":["Inactif","Capacité active"],"setup":false,"name":"Collecteur d\'os","team":"traveler","ability":"Une fois par partie, au crépuscule, choisissez un joueur mort: il retrouvera ses capacités jusqu\'au crépuscule suivant."},{"id":"harlot","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":1,"otherNightReminder":"Elle pointe un joueur et s\'endort. Réveillez ce joueur, montrez-lui la carte verte « Ce rôle vous a sélectionné » et le jeton Fille de joie. Ce joueur hoche ou secoue la tête. S\'ils hochent, réveillez la Fille de joie et montrez-lui le jeton du joueur. Décidez si les 2 joueurs meurent.","reminders":["Mort"],"setup":false,"name":"Fille de joie","team":"traveler","ability":"Chaque nuit, choisissez un joueur vivant: s’il est d’accord, vous apprendrez son rôle, mais vous risquez de mourir tous les deux."},{"id":"barista","edition":"snv","firstNight":1,"firstNightReminder":"Placez le jeton « Sobre et sain » ou « Capacité 2x » sous n\'importe quel joueur. Réveillez ce joueur et montrez-lui la carte « Ce joueur vous a sélectionné » et le jeton Barista, puis un pouce (sobre et en bonne santé) ou deux doigts (il agira deux fois).","otherNight":1,"otherNightReminder":"Placez le jeton « Sobre et sain » ou « Capacité 2x » sous n\'importe quel joueur. Réveillez ce joueur et montrez-lui la carte « Ce joueur vous a sélectionné » et le jeton Barista, puis un pouce (sobre et en bonne santé) ou deux doigts (il agira deux fois).","reminders":["Capacité 2x","Sobre et sain"],"setup":false,"name":"Barista","team":"traveler","ability":"Chaque nuit et jusqu\'au crépuscule suivant, un autre joueur apprend que : 1- Il est Sobre, en Santé et reçoit de vraies informations ou 2- sa capacité fonctionne deux fois."},{"id":"deviant","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Déviant","team":"traveler","ability":"Si vous étiez drôle aujourd\'hui, vous pourriez ne pas être exilé."},{"id":"bountyhunter","name":"Chasseur de primes","edition":"","team":"townsfolk","firstNight":39,"firstNightReminder":"Le Conteur choisi un joueur maléfique vivant et lui assigne le jeton « Cible ». Réveiller le Chasseur de primes et pointez lui la « Cible ».","otherNight":60,"otherNightReminder":"Si la « Cible » est morte depuis la nuit précédente: Le Conteur choisi un nouveau joueur maléfique vivant et lui assigne le jeton « Cible ». Réveiller le Chasseur de primes et pointez lui la nouvelle « Cible ».","reminders":["Cible"],"setup":true,"ability":"La première nuit, le Conteur vous désigne 1 joueur maléfique (votre cible). Si ce joueur meurt, cette nuit le Conteur vous désigne 1 nouveau joueur maléfique (nouvelle cible) [1 Villageois est maléfique]."},{"id":"pixie","name":"Pixie","edition":"","team":"townsfolk","firstNight":26,"firstNightReminder":"Présenter le jeton rôle d\'un Villageois en jeu.","otherNight":0,"otherNightReminder":"S\'il était Dément et que le joueur est mort, traitez le Pixie comme s\'il avait la capacité du rôle approprié.","reminders":["Dément","Avec capacité de"],"setup":false,"ability":"La première nuit, le Conteur vous désigne un rôle qui est en jeu. Si vous êtes dément jusqu’à la mort du joueur qui a actuellement ce rôle, vous devenez ce rôle."},{"id":"general","name":"Général","edition":"","team":"townsfolk","firstNight":42,"firstNightReminder":"Montrez d\'un signe de la main (pouce vers le haut « bon », pouce vers le bas « maléfique », pouce sur le côté « ne sais pas ») pour l\'alignement qui, selon vous, est gagnant.","otherNight":63,"otherNightReminder":"Montrez d\'un signe de la main (pouce vers le haut « bon », pouce vers le bas « maléfique », pouce sur le côté « ne sais pas ») pour l\'alignement qui, selon vous, est gagnant.","reminders":[],"setup":false,"ability":"Chaque nuit, vous apprenez quelle équipe est en train de gagner selon le Conteur : bon, maléfique ou ni l\'un ni l\'autre."},{"id":"preacher","name":"Prédicateur","edition":"","team":"townsfolk","firstNight":12,"firstNightReminder":"Il désigne un joueur. Si le joueur choisi est un Sbire: Réveillez ce joueur et montrez-lui la carte verte « Ce rôle vous a sélectionné », puis le jeton de rôle. Le joueur choisi n\'a désormais plus de capacité.","otherNight":6,"otherNightReminder":"Il désigne un joueur. Si le joueur choisi est un Sbire: Réveillez ce joueur et montrez-lui la carte verte « Ce rôle vous a sélectionné », puis le jeton de rôle. Le joueur choisi n\'a désormais plus de capacité.","reminders":["Aucune capacité"],"setup":false,"ability":"Chaque nuit, choisissez un joueur: si le joueur choisi est un Sbire il se fait réveiller et il apprend qu’il a perdu sa capacité."},{"id":"king","name":"Roi","edition":"","team":"townsfolk","firstNight":8,"firstNightReminder":"Réveillez le Démon, montrez-lui la carte verte « Ce rôle vous a sélectionné », montrez le jeton Roi et pointez le joueur Roi.","otherNight":59,"otherNightReminder":"Si les morts sont plus nombreux que les vivants, montrer le rôle d\'un joueur vivant.","reminders":[],"setup":false,"ability":"Chaque nuit, si les morts sont plus nombreux que les vivants, le Conteur vous désigne un rôle d’un joueur vivant. Le Démon sait qui vous êtes."},{"id":"balloonist","name":"Aéronaute","edition":"","team":"townsfolk","firstNight":38,"firstNightReminder":"Choisissez un type de rôle. Pointez un joueur dont le rôle est de ce type. Placez le rappel « Vu » de l\'Aéronaute sous ce rôle.","otherNight":58,"otherNightReminder":"Choisissez un type de rôle que vous n\'avez pas encore choisi. Pointez un joueur dont le rôle est de ce type. Placez le rappel « Vu » de l\'Aéronaute sous ce rôle.","reminders":["Villageois","Étranger","Sbire","Démon","Voyageur"],"setup":true,"ability":"Chaque nuit, vous apprenez 1 joueur de chaque type, jusqu\'à ce qu\'il n\'y ait plus de types à découvrir [+1 Étranger]."},{"id":"cultleader","name":"Chef de secte","edition":"","team":"townsfolk","firstNight":40,"firstNightReminder":"Le Conteur choisi : l\'alignement du Chef de culte basé sur un de ces voisin vivant. Si son alignement change : Réveiller-le et montrez-lui la carte violette « Vous êtes », puis le signal de la main (pouce en haut ou pouce en bas).","otherNight":61,"otherNightReminder":"Le Conteur choisi : l\'alignement du Chef de culte basé sur un de ces voisin vivant. Si son alignement change : Réveiller-le et montrez-lui la carte violette « Vous êtes », puis le signal de la main (pouce en haut ou pouce en bas).","reminders":[],"setup":false,"ability":"Chaque nuit, prenez l\'alignement d\'un voisin vivant: si tous les « bons » joueurs choisissent de rejoindre votre culte, votre équipe gagne."},{"id":"lycanthrope","name":"Lycanthrope","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":21,"otherNightReminder":"Le Lycanthrope pointe vers un joueur vivant: s\'il est bon, il meurt et personne d\'autre ne peut mourir cette nuit.","reminders":["Mort"],"setup":false,"ability":"Chaque nuit*, choisissez un joueur vivant: s\'il est bon, il meurt, mais il est le seul à mourir cette nuit."},{"id":"amnesiac","name":"Amnesique","edition":"","team":"townsfolk","firstNight":11,"firstNightReminder":"Décidez de la capacité de l\'Amnésique. Si sa capacité l\'amène à se réveiller la nuit : réveillez l\'amnésique et activez sa capacité.","otherNight":5,"otherNightReminder":"Si la capacité de l\'Amnésique l\'amène à se réveiller la nuit: Réveillez l\'amnésique et activer sa capacité.","reminders":["?"],"setup":false,"ability":"Vous ne connaissez pas votre capacité. Chaque jour, tentez de la deviner en privé : vous apprenez à quel point vous êtes précis."},{"id":"fisherman","name":"Pêcheur","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Inactif"],"setup":false,"ability":"Une fois par partie, pendant la journée, visitez le Conteur pour obtenir des conseils pour vous aider à gagner."},{"id":"farmer","name":"Farmer","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":43,"otherNightReminder":"If a Farmer died tonight, choose another good player and make them the Farmer. Wake this player, show them the \'You are\' card and the Farmer character token.","reminders":[],"setup":false,"ability":"If you die at night, an alive good player becomes a Farmer."},{"id":"magician","name":"Magician","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"The Demon thinks you are a Minion. Minions think you are a Demon."},{"id":"choirboy","name":"Troubadour","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":41,"otherNightReminder":"Réveiller le si le Roi a été assassiné par le Démon et lui pointer le Démon.","reminders":[],"setup":true,"ability":"Si le Roi est assassiné par le Démon, vous apprenez qui est le Démon [+Roi]."},{"id":"poppygrower","name":"Cultivateur de pavot","edition":"","team":"townsfolk","firstNight":3,"firstNightReminder":"Ne réveiller pas les Sbires lors de la première nuit, ils ne savent pas qui est le Démon et les autres Sbires. Le Démon reçoit malgré tout ses trois bluffs.","otherNight":3,"otherNightReminder":"Si le Cultivateur est mort, réveiller les Sbires et Démon (morts ou vifs) et leurs présenter le Démon et les Sbires.","reminders":["Maléfiques se réveillent"],"setup":false,"ability":"Les maléfiques ne se connaissent entre eux. À votre mort, ils apprennent qui sont les Sbires et le Démon."},{"id":"cannibal","name":"Cannibale","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"Si nécessaire, réveiller ce joueur cette nuit selon sa capacité.","reminders":["Empoisonné","Dernier Exécuté"],"setup":false,"ability":"Chaque nuit*, vous gagnez la capacité du dernier rôle exécuté. Si l\'exécuté était maléfique, vous gagnez une capacité au choix du Conteur et vous êtes empoisonné jusqu\'à ce qu\'un nouveau rôle « bon » soit exécuté."},{"id":"snitch","name":"Balance","edition":"","team":"outsider","firstNight":5,"firstNightReminder":"Communiquer 3 bluffs au Sbires.","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Les Sbires apprennent également trois bluffs. Cette liste sera la même pour chacun mais si possible, différente de la liste du Démon."},{"id":"acrobat","name":"Acrobate","edition":"","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":36,"otherNightReminder":"Si l\'un des voisins « bon » est ivre ou empoisonné, l\'acrobate meurt.","reminders":["Mort"],"setup":false,"ability":"Chaque nuit*, si un de vos voisins « bon » vivant est ivre ou empoisonné, vous mourrez."},{"id":"heretic","name":"Hérétique","edition":"","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Ceux qui perdent, gagnent et vice versa, même si vous êtes mort."},{"id":"politician","name":"Politicien","edition":"","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Si vous êtes le joueur qui est majoritairement responsable de la défaite de votre équipe, vous gagnez avec l’équipe adverse (même mort)."},{"id":"widow","name":"Veuve Noire","edition":"","team":"minion","firstNight":16,"firstNightReminder":"Montrez le Grimoire à la Veuve Noire. Elle désigne ensuite un joueur : ce joueur est empoisonné. Réveillez un joueur « Bon ». Montrez la carte cyan « Ce rôle est en jeu » et le jeton de la Veuve Noire.","otherNight":0,"otherNightReminder":"","reminders":["Empoisonné"],"remindersGlobal":["Vu"],"setup":false,"ability":"La première nuit, regardez le Grimoire et choisissez un joueur : il est empoisonné. Un joueur « Bon » sait que la Veuve Noire est en jeu."},{"id":"goblin","name":"Goblin","edition":"","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Prétendu"],"setup":false,"ability":"Une fois nommé, vous pouvez prétendre publiquement être le Gobelin : si vous êtes exécuté malgré tout, votre équipe gagne."},{"id":"mezepheles","name":"Mezepheles","edition":"","team":"minion","firstNight":24,"firstNightReminder":"Show the Mezepheles their secret word.","otherNight":17,"otherNightReminder":"Wake the 1st good player that said the Mezepheles\' secret word and show them the \'You are\' card and the thumbs down evil signal.","reminders":["Turns evil","No ability"],"setup":false,"ability":"You start knowing a secret word. The 1st good player to say this word becomes evil that night."},{"id":"mephit","name":"Mephite","edition":"","team":"minion","firstNight":24,"firstNightReminder":"Informer le joueur du mot secret.","otherNight":17,"otherNightReminder":"Réveiller le nouveau maléfique, montrez-lui la carte violette « Vous êtes », puis un signal de la main (pouce vers le bas maléfique) pour son alignement.","reminders":["Devient Maléfique","Inactif"],"setup":false,"ability":"La première nuit, le Conteur vous donne un mot secret. Le premier joueur bon qui le dit deviendra maléfique cette nuit."},{"id":"marionette","name":"Marionnette","edition":"","team":"minion","firstNight":10,"firstNightReminder":"Sélectionnez l\'un des joueurs bons voisin du Démon et placez le rappel Marionnette. Réveillez le Démon et montrez-lui la Marionnette.","otherNight":0,"otherNightReminder":"","reminders":[],"remindersGlobal":["Marionnette"],"setup":true,"ability":"Vous ne savez pas que vous êtes maléfique. Vous pensez que vous êtes un joueur bon, mais vous ne l’êtes pas. Vous êtes empoisonné et le Démon sait qui vous êtes [Voisin du Démon]."},{"id":"boomdandy","name":"Boomdandy","edition":"","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Si vous êtes exécuté, tous les joueurs sauf 3 meurent. 1 minute plus tard, le joueur désigné par le plus grand nombre de joueurs meurt."},{"id":"lilmonsta","name":"P\'tit monstre","edition":"","team":"demon","firstNight":14,"firstNightReminder":"Au début de la nuit, réveillez tous les Sbires. Les Sbires désignent un joueur qui reçoit le jeton P\'tit Monstre et devient le Démon.","otherNight":33,"otherNightReminder":"Au début de la nuit, réveillez tous les Sbires. Les Sbires désignent un joueur qui reçoit le jeton P\'tit Monstre et devient le Démon. Plus tard pendant la nuit, le Conteur désigne un joueur qui est aussitôt assassiné (vous pouvez demander la préférence du gardien du P’tit Monstre pour déterminer la cible de celui-ci).","reminders":[],"remindersGlobal":["P’tit Monstre","Assassiné"],"setup":true,"ability":"Chaque nuit, les Sbires choisissent qui garde le jeton P’tit Monstre et « est le Démon ». Un joueur meurt chaque nuit* [+1 Sbire]Chaque nuit, les Sbires choisissent qui garde le jeton P’tit Monstre et « est le Démon ». Un joueur meurt chaque nuit* [+1 Sbire]."},{"id":"lleech","name":"Lleech","edition":"","team":"demon","firstNight":13,"firstNightReminder":"The Lleech points to a player. Place the Poisoned reminder token.","otherNight":32,"otherNightReminder":"The Lleech points to a player. That player dies.","reminders":["Dead","Poisoned"],"setup":false,"ability":"Each night*, choose a player: they die. You start by choosing an alive player: they are poisoned - you die if & only if they die."},{"id":"legion","name":"Légion","edition":"","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":31,"otherNightReminder":"Choose a player, that player dies.","reminders":["Assassiné","Sur le point de mourir"],"setup":true,"ability":"Chaque nuit*, un joueur peut mourir. Les exécutions échouent si seulement les maléfiques ont votés. Vous êtes reconnu comme étant un Sbire. [La majorité des joueurs sont des Légions]."},{"id":"leviathan","name":"Léviathan","edition":"","team":"demon","firstNight":46,"firstNightReminder":"Placez le jeton « Jour 1 » du Léviathan. Annoncer « Le Léviathan est présent parmi vous, c\'est son premier jour ».","otherNight":67,"otherNightReminder":"Est-ce que deux joueurs « bon » sont morts ou est-ce que le jeton « Jour 5 » du Léviathan est en place, l\'équipe maléfique gagne immédiatement. Placez le prochain jeton « Jour n » suivant et annoncer : Le Léviathan est toujours parmi vous, c\'est le jour n.","reminders":["Jour 1","Jour 2","Jour 3","Jour 4","Jour 5","Bon Exécuté"],"setup":false,"ability":"Tous les joueurs savent que vous êtes en jeu. Après 5 jours, le mal gagne. Si plus d\'un joueur « bon » est exécuté, les maléfiques gagnent."},{"id":"gangster","name":"Gangster","edition":"","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Une fois par jour, vous pouvez assassiner un de vos deux voisins vivants, mais uniquement si l\'autre est d\'accord."}]')},b223:function(e,t,i){e.exports=i.p+"img/mayor.da8876ae.png"},b249:function(e){e.exports=JSON.parse('[{"id":"doomsayer","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Prêcheur Apocalypse","team":"fabled","ability":"Si 4 joueurs ou plus sont vivants, chaque joueur vivant peut choisir publiquement (une fois par partie) qu\'un joueur de leur alignement meurt"},{"id":"angel","firstNightReminder":"","otherNightReminder":"","reminders":["Protégé","Responsable"],"setup":false,"name":"Ange","team":"fabled","ability":"Quelque chose de grave pourrait arriver à celui qui est responsable de la mort d\'un nouveau joueur"},{"id":"buddhist","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Bouddhiste","team":"fabled","ability":"Pendant les deux premières minutes de chaque jour, les joueurs vétérans ne peuvent pas parler"},{"id":"hellslibrarian","firstNightReminder":"","otherNightReminder":"","reminders":["Indiscipliné"],"setup":false,"name":"Bibliothécaire","team":"fabled","ability":"Quelque chose de grave pourrait arriver à quiconque parle lorsque le Conteur a demandé le silence"},{"id":"revolutionary","firstNightReminder":"","otherNightReminder":"","reminders":["Inactif"],"setup":false,"name":"Révolutionnaire","team":"fabled","ability":"Deux joueurs voisins sont connus pour être du même alignement. Une fois par partie, l\'un d\'eux sera reconnu d’un alignement différent"},{"id":"fiddler","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Trouble-Fête","team":"fabled","ability":"Une fois par partie, le Démon choisit secrètement un joueur adverse: tous les joueurs (même règles que l’expulsion) choisissent lequel de ces 2 joueurs gagne. Le mal remporte les égalités"},{"id":"toymaker","firstNightReminder":"","otherNight":1,"otherNightReminder":"Si c\'est une nuit où une attaque de Démon pourrait mettre fin à la partie, et que le Démon est marqué « Pas d\'attaque », alors le Démon n\'agit pas cette nuit (ne pas le réveiller)","reminders":["Pas d\'attaque"],"setup":false,"name":"Artisan","team":"fabled","ability":"Le Démon peut choisir de ne pas attaquer et doit le faire au moins une fois par partie. Les joueurs maléfiques obtiennent les informations de départ normalement"},{"id":"fibbin","firstNightReminder":"","otherNightReminder":"","reminders":["Inactif"],"setup":false,"name":"Baratineur","team":"fabled","ability":"Une fois par partie, un joueur « bon », peut obtenir de fausses informations"},{"id":"duchess","firstNightReminder":"","otherNight":1,"otherNightReminder":"Réveillez chaque joueur « Visiteur » ou « Fausse Info » un à la fois. Montrez-leur le jeton Duchesse, puis les doigts (1, 2, 3) correspondant au nombre de joueurs maléfiques « Visiteur » ou, si vous réveillez le joueur marqué « Fausse Info », montrer lui n\'importe quel nombre de doigts sauf le nombre de joueurs maléfiques « Visiteur »","reminders":["Visiteur","Fausse Info"],"setup":false,"name":"Duchesse","team":"fabled","ability":"Chaque jour, trois joueurs peuvent choisir de vous rendre visite. La nuit*, chaque visiteur apprend combien de visiteurs sont maléfiques, mais un d’entre eux obtient de fausse information"},{"id":"sentinel","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":true,"name":"Sentinelle","team":"fabled","ability":"Il peut y avoir un Étranger supplémentaire ou un de moins dans la partie"},{"id":"spiritofivory","firstNightReminder":"","otherNightReminder":"","reminders":["Aucun maléfique supplémentaire"],"setup":false,"name":"Protectrice","team":"fabled","ability":"Il ne peut pas y avoir plus d\'un joueur maléfique supplémentaire en jeu"},{"id":"djinn","firstNight":1,"firstNightReminder":"Wake each evil player and show them which jinxed characters are in play, so that they know not to bluff as characters that can not be in play.","otherNightReminder":"","reminders":[],"setup":false,"name":"Mauvais Génie","team":"fabled","ability":"Seulement un des deux rôles du Duo est possiblement en jeu, les maléfiques savent de quel joueur et quel rôle il s\'agit OU il y a une règle particulière avec certaines combinaisons de rôles"},{"id":"stormcatcher","firstNight":1,"firstNightReminder":"Identifier un joueur Bon comme « Protégé ». Réveillez chaque maléfique et montrez-leur le joueur protégé","otherNightReminder":"","reminders":["Protégé"],"setup":false,"name":"Paratonnerre","team":"fabled","ability":"Nommez un rôle « bon », s\'il est en jeu, il ne peut mourir que par exécution, mais les maléfiques apprennent de quel joueur il s\'agit"},{"id":"deusexfiasco","firstNightReminder":"","otherNightReminder":"","reminders":["Oups"],"setup":false,"name":"Deus ex Fiasco","team":"fabled","ability":"Une fois par partie, le Conteur commettra une erreur, la corrigera et l\'admettra publiquement"}]')},b30c:function(e,t,i){e.exports=i.p+"img/professor.48f01bcb.png"},b570:function(e,t,i){e.exports=i.p+"img/investigator.a817cc04.png"},b7e8:function(e,t,i){e.exports=i.p+"img/snitch.0f51b730.png"},ba9b:function(e,t,i){e.exports=i.p+"img/tealady.5fc21e59.png"},bb7a:function(e,t,i){e.exports=i.p+"img/empath.b772c7ff.png"},bce4:function(e,t,i){},bfe2:function(e,t,i){e.exports=i.p+"img/angel.cae6c8fc.png"},bff3:function(e,t,i){},c24f:function(e,t,i){e.exports=i.p+"img/evil.8723a4ee.png"},c316:function(e,t,i){e.exports=i.p+"img/lycanthrope.48660758.png"},c492:function(e,t,i){e.exports=i.p+"img/lilmonsta.4814ed76.png"},c5db:function(e,t,i){e.exports=i.p+"img/fisherman.0511031e.png"},c73a:function(e,t,i){e.exports=i.p+"img/po.015a8956.png"},c7b7:function(e,t,i){e.exports=i.p+"img/mezepheles.b1f4ea9e.png"},c825:function(e){e.exports=JSON.parse('[{"id":"Chambermaid","hatred":[{"id":"Mathematician","reason":"La Femme de chambre apprend si le Mathématicien se réveillera ou non cette nuit, même si elle se réveille avant lui"}]},{"id":"Butler","hatred":[{"id":"Cannibal","reason":"Si le Cannibale acquiert la capacité du Majordome, le Cannibale l\'apprend"}]},{"id":"Mutant","hatred":[{"id":"Undertaker","reason":"Si la Bête de foire provoque une seconde exécution, le Croque-mort apprend l\'un ou les deux rôles des exécutés (au choix du Conteur)"}]},{"id":"Lunatic","hatred":[{"id":"Mathematician","reason":"Le Mathématicien apprend si le Lunatique attaque un ou plusieurs joueurs différents que le du vrai Démon a attaqué"}]},{"id":"PitHag","hatred":[{"id":"Politician","reason":"Une Vieille Chouette ne peut pas créer un Politicien maléfique"},{"id":"Heretic","reason":"Une Vieille Chouette ne peut pas créer un Hérétique"}]},{"id":"Cerenovus","hatred":[{"id":"Undertaker","reason":"Si le Manipulateur provoque une seconde exécution, le Croque-mort apprend l\'un ou les deux rôles des exécutés (au choix du Conteur)"},{"id":"Goblin","reason":"Le Manipulateur peut choisir de rendre un joueur dément d\'être le Gobelin"}]},{"id":"Leviathan","hatred":[{"id":"Soldier","reason":"Si le Léviathan nomme et exécute le Soldat, il ne meurt pas"},{"id":"Monk","reason":"Si le Léviathan nomme et exécute le joueur choisi par le Moine, ce joueur ne meurt pas"},{"id":"Innkeeper","reason":"Si le Léviathan nomme et exécute un joueur choisi par l\'Aubergiste, ce joueur ne meurt pas"},{"id":"Ravenkeeper","reason":"Si le Léviathan est en jeu et que le Gardien meurt par exécution, il se réveille cette nuit-là pour utiliser sa capacité"},{"id":"Sage","reason":"Si le Léviathan est en jeu et que le Sage meurt par exécution, il se réveille cette nuit-là pour utiliser sa capacité"},{"id":"Mayor","reason":"Si le Léviathan est en jeu et qu\'aucune exécution n\'a lieu le 5e jour, victoire pour le Village"}]},{"id":"LilMonsta","hatred":[{"id":"ScarletWoman","reason":"S\'il y a 5 joueurs ou plus sont en vie et que le joueur qui détient le jeton du P’tit monstre meurt, la Croqueuse d’homme reçoit le jeton du P’tit monstre cette nuit"},{"id":"PoppyGrower","reason":"Si le Cultivateur de pavot est en jeu, les sbires ne se réveillent pas ensemble. Ils sont réveillés un par un, jusqu\'à ce que l\'un d\'eux choisisse de prendre le jeton le P’tit Monstre"}]},{"id":"Lycanthrope","hatred":[{"id":"Gambler","reason":"Si le Lycanthrope est vivant et que le Parieur meurt par sa capacité, aucun autre joueur ne peut mourir cette nuit"}]},{"id":"Legion","hatred":[{"id":"Preacher","reason":"Cette combinaison n’est tout simplement pas recommandée. Seulement un des deux rôles est possiblement en jeu. Les maléfiques savent de quel joueur et quel rôle il s\'agit"}]},{"id":"FangGu","hatred":[{"id":"ScarletWoman","reason":"Si le Fang Gu choisit un Étranger et meurt, la Croqueuse d’homme ne devient pas le Fang Gu"}]},{"id":"Spy","hatred":[{"id":"PoppyGrower","reason":"Si le Cultivateur de pavot est en jeu, l’Espion ne voit le Grimoire jusqu\'à ce qu’il meure"},{"id":"Heretic","reason":"Cette combinaison n’est tout simplement pas recommandée. Seulement un des deux rôles est possiblement en jeu"}]},{"id":"Widow","hatred":[{"id":"PoppyGrower","reason":"Si le Cultivateur de pavot est en jeu, la Veuve Noire ne voit pas le Grimoire jusqu\'à ce qu’il meure"},{"id":"Heretic","reason":"Cette combinaison n’est tout simplement pas recommandée. Seulement un des deux rôles est possiblement en jeu"}]},{"id":"Godfather","hatred":[{"id":"Heretic","reason":"Cette combinaison n’est tout simplement pas recommandée. Seulement un des deux rôles est possiblement en jeu"}]},{"id":"Marionette","hatred":[{"id":"LilMonsta","reason":"La Marionnette est voisine d\'un Sbire, pas du Démon. Elle ne se réveille pas pour choisir qui prend le P’tit Monstre"},{"id":"PoppyGrower","reason":"Lorsque le Cultivateur de pavot meurt, le Démon découvre la Marionnette mais la Marionnette n\'apprend rien"},{"id":"Balloonist","reason":"Si la Marionnette pense qu\'elle est l’Aéronaute, ajouté un Étranger supplémentaire"}]}]')},c9ab:function(e,t,i){"use strict";i("aeb7")},c9f5:function(e,t,i){e.exports=i.p+"img/grandmother.18ee536e.png"},cadc:function(e,t,i){e.exports=i.p+"img/gossip.5165a7ee.png"},cae1:function(e,t,i){e.exports=i.p+"img/bmr-demon.75dfa056.png"},cd8b:function(e,t,i){e.exports=i.p+"img/devilsadvocate.18bb00ce.png"},ce23:function(e,t,i){var s={"./bmr-demon.png":"cae1","./bmr-minion.png":"28bf","./bmr-outsider.png":"e898","./bmr-townsfolk.png":"e988","./bmr.png":"7496","./custom.png":"441d","./luf.png":"92d8","./snv-demon.png":"f347","./snv-minion.png":"451a","./snv-outsider.png":"4dd9","./snv-townsfolk.png":"ed00","./snv.png":"2fd0","./tb-demon.png":"a3b0","./tb-minion.png":"5f4e","./tb-outsider.png":"73a1","./tb-townsfolk.png":"f7a3","./tb.png":"0aaa"};function o(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id="ce23"},cfcc:function(e,t,i){e.exports=i.p+"img/beggar.90311684.png"},d1e7:function(e,t,i){"use strict";i("3e83")},d4b2:function(e,t,i){},d62b:function(e,t,i){e.exports=i.p+"img/slayer.4cde6d70.png"},d6bc:function(e,t,i){e.exports=i.p+"img/choirboy.9d62c6b3.png"},d715:function(e,t,i){e.exports=i.p+"img/savant.0fe828cf.png"},d97d:function(e,t,i){e.exports=i.p+"img/drunk.947841e5.png"},da81:function(e,t,i){e.exports=i.p+"img/legion.a5ecb237.png"},dce6:function(e,t,i){e.exports=i.p+"img/gambler.7e6e9736.png"},df5e:function(e,t,i){e.exports=i.p+"img/mephit.b1f4ea9e.png"},dfb1:function(e,t){e.exports=e=>{const t=e=>document.title="Blood on the Clocktower "+(e?"Town Square":"Grimoire");if(localStorage.getItem("background")&&e.commit("setBackground",localStorage.background),localStorage.getItem("muted")&&e.commit("toggleMuted",!0),localStorage.getItem("static")&&e.commit("toggleStatic",!0),localStorage.getItem("imageOptIn")&&e.commit("toggleImageOptIn",!0),localStorage.getItem("zoom")&&e.commit("setZoom",parseFloat(localStorage.getItem("zoom"))),localStorage.getItem("isGrimoire")&&(e.commit("toggleGrimoire",!1),t(!1)),void 0!==localStorage.roles&&(e.commit("setCustomRoles",JSON.parse(localStorage.roles)),e.commit("setEdition",{id:"custom"})),void 0!==localStorage.edition&&e.commit("setEdition",JSON.parse(localStorage.edition)),void 0!==localStorage.bluffs&&JSON.parse(localStorage.bluffs).forEach((t,i)=>{e.commit("players/setBluff",{index:i,role:e.state.roles.get(t)||{}})}),void 0!==localStorage.fabled&&e.commit("players/setFabled",{fabled:JSON.parse(localStorage.fabled).map(t=>e.state.fabled.get(t.id)||t)}),localStorage.players&&e.commit("players/set",JSON.parse(localStorage.players).map(t=>({...t,role:e.state.roles.get(t.role)||e.getters.rolesJSONbyId.get(t.role)||{}}))),localStorage.getItem("playerId")&&e.commit("session/setPlayerId",localStorage.getItem("playerId")),localStorage.getItem("session")&&!window.location.hash.substr(1)){const[t,i]=JSON.parse(localStorage.getItem("session"));e.commit("session/setSpectator",t),e.commit("session/setSessionId",i)}e.subscribe(({type:e,payload:i},s)=>{switch(e){case"toggleGrimoire":s.grimoire.isPublic?localStorage.removeItem("isGrimoire"):localStorage.setItem("isGrimoire",1),t(s.grimoire.isPublic);break;case"setBackground":i?localStorage.setItem("background",i):localStorage.removeItem("background");break;case"toggleMuted":s.grimoire.isMuted?localStorage.setItem("muted",1):localStorage.removeItem("muted");break;case"toggleStatic":s.grimoire.isStatic?localStorage.setItem("static",1):localStorage.removeItem("static");break;case"toggleImageOptIn":s.grimoire.isImageOptIn?localStorage.setItem("imageOptIn",1):localStorage.removeItem("imageOptIn");break;case"setZoom":0!==i?localStorage.setItem("zoom",i):localStorage.removeItem("zoom");break;case"setEdition":localStorage.setItem("edition",JSON.stringify(i)),s.edition.isOfficial&&localStorage.removeItem("roles");break;case"setCustomRoles":i.length?localStorage.setItem("roles",JSON.stringify(i)):localStorage.removeItem("roles");break;case"players/setBluff":localStorage.setItem("bluffs",JSON.stringify(s.players.bluffs.map(({id:e})=>e)));break;case"players/setFabled":localStorage.setItem("fabled",JSON.stringify(s.players.fabled.map(e=>e.isCustom?e:{id:e.id})));break;case"players/add":case"players/update":case"players/remove":case"players/clear":case"players/set":case"players/swap":case"players/swapRole":case"players/move":s.players.players.length?localStorage.setItem("players",JSON.stringify(s.players.players.map(e=>({...e,role:e.role.id||{}})))):localStorage.removeItem("players");break;case"session/setSessionId":i?localStorage.setItem("session",JSON.stringify([s.session.isSpectator,i])):localStorage.removeItem("session");break;case"session/setPlayerId":i?localStorage.setItem("playerId",i):localStorage.removeItem("playerId");break}})}},e014:function(e,t,i){e.exports=i.p+"img/eviltwin.10ab31a8.png"},e222:function(e,t,i){e.exports=i.p+"img/djinn.e1c507e5.png"},e27c:function(e,t,i){},e69f:function(e,t,i){e.exports=i.p+"img/marionette.8aceb38b.png"},e898:function(e,t,i){e.exports=i.p+"img/bmr-outsider.971a3d5d.png"},e988:function(e,t,i){e.exports=i.p+"img/bmr-townsfolk.9bf859b4.png"},ec1e:function(e,t,i){e.exports=i.p+"img/spy.d411c998.png"},ed00:function(e,t,i){e.exports=i.p+"img/snv-townsfolk.83cf9a72.png"},ee02:function(e,t,i){e.exports=i.p+"img/courtier.7060de3f.png"},ee92:function(e,t,i){e.exports=i.p+"img/gunslinger.1360a66d.png"},eff4:function(e,t,i){e.exports=i.p+"img/virgin.a4b2d7a4.png"},f09b:function(e,t,i){e.exports=i.p+"img/judge.b1034c71.png"},f1e5:function(e,t,i){e.exports=i.p+"img/sweetheart.29949c36.png"},f282:function(e,t,i){e.exports=i.p+"img/poisoner.61c83e0f.png"},f322:function(e,t,i){e.exports=i.p+"img/scarletwoman.5377675d.png"},f347:function(e,t,i){e.exports=i.p+"img/snv-demon.2fe55248.png"},f4bd:function(e,t,i){e.exports=i.p+"img/vigormortis.981de17e.png"},f558:function(e,t,i){e.exports=i.p+"img/witch.f75f1601.png"},f6a8:function(e,t,i){e.exports=i.p+"media/countdown.1462f20c.mp3"},f7a3:function(e,t,i){e.exports=i.p+"img/tb-townsfolk.550a119b.png"},f834:function(e,t,i){e.exports=i.p+"img/mastermind.91ffd4fd.png"},f93f:function(e,t,i){e.exports=i.p+"img/clockmaker.5378c03d.png"},fcc6:function(e,t,i){e.exports=i.p+"img/barber.6c91c1f5.png"},fd83:function(e,t,i){e.exports=i.p+"img/custom.402e9bc3.png"},fff1:function(e,t,i){e.exports=i.p+"img/pacifist.0637fdf0.png"}});
//# sourceMappingURL=app.9bd1c175.js.map